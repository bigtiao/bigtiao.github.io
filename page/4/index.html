<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="打螺丝闲暇的记录">
<meta property="og:url" content="http://example.com/page/4/index.html">
<meta property="og:site_name" content="打螺丝闲暇的记录">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="一骗树">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>打螺丝闲暇的记录</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">打螺丝闲暇的记录</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-links">

    <a href="/links/" rel="section"><i class="fa fa-sitemap fa-fw"></i>Links</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/22/ABAP%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-%E4%BD%BF%E7%94%A8Field%20Symbol%E5%92%8CData%20Reference/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/22/ABAP%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-%E4%BD%BF%E7%94%A8Field%20Symbol%E5%92%8CData%20Reference/" class="post-title-link" itemprop="url">SAP ABAP性能优化 - 使用 Field Symbol 和 Data Reference</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-22 15:31:00 / 修改时间：17:04:09" itemprop="dateCreated datePublished" datetime="2022-06-22T15:31:00+08:00">2022-06-22</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>相比较于一般的数据类型（例如 I, P, F, N, C, D, T等）的变量，Field Symbol和Data Reference类型的变量是ABAP中两个相关复杂的类型。理解和使用这两种变量，对于编写高性能、高灵活性的ABAP程序是十分重要的。</p>
<h3 id="1-含义解析"><a href="#1-含义解析" class="headerlink" title="1.含义解析"></a>1.含义解析</h3><p>Field Symbol：类似于C语言中的“指针”。初始状态为Unassigned。Field Symbol类型的变量自身并不对占用存储空间，仅“指向”被Assgined变量的地址空间。<br>Data Reference: 一种变量类型。初始状态为Initial。当被创建（实例化）成具体的类型时，系统会为其分配相应的存储空间。通过 ‘ -&gt;* ’ 的方式访问，将值从地址空间传输到变量中（显示）。若要改变Data Reference变量中的值，需要配合Field Symbol使用。即使用Field Symbol指向Data Reference变量所存储的地址空间，并用Field Symbol对其进行操作。<br>下图给出了配合Field Symbol操作Data Reference的一个例子 </p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20190308131010318.png" alt="在这里插入图片描述"></p>
<h3 id="2-使用Field-Symbol提升访问效率"><a href="#2-使用Field-Symbol提升访问效率" class="headerlink" title="2.使用Field Symbol提升访问效率"></a>2.使用Field Symbol提升访问效率</h3><p>因为Field Symbol并不会占用内存空间，因此在操作变量时，可以使用Field Symbol来提升运行效率。常用的Field Symbol的场景有以下几种 -</p>
<p>Read table &lt; itab &gt; assigning &lt; fs &gt;<br>Loop at &lt; itab &gt; assigning &lt; fs &gt;<br>Assign &lt; data object &gt; to &lt; fs &gt;<br>Assign component &lt;component name&#x2F;component index&gt; to &lt; fs &gt;<br>Append initial line to &lt; itab &gt; assigning &lt; fs &gt;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">**********************************************************************</span><br><span class="line">* Field Symbol to prioritize the accessing of internal table</span><br><span class="line">**********************************************************************</span><br><span class="line"></span><br><span class="line">DATA: lt_sflight TYPE STANDARD TABLE OF sflight,</span><br><span class="line">      ls_sflight TYPE sflight.</span><br><span class="line"></span><br><span class="line">FIELD-SYMBOLS: &lt;ls_sflight&gt; TYPE sflight.</span><br><span class="line"></span><br><span class="line">SELECT * FROM sflight INTO TABLE lt_sflight UP TO 10 ROWS.</span><br><span class="line"></span><br><span class="line">* extra effort to copy data into variable ls_sflight</span><br><span class="line">LOOP AT lt_sflight INTO ls_sflight.</span><br><span class="line">  WRITE: / ls_sflight-carrid, ls_sflight-connid, ls_sflight-fldate.</span><br><span class="line">ENDLOOP.</span><br><span class="line"></span><br><span class="line">* access the address directly</span><br><span class="line">LOOP AT lt_sflight ASSIGNING &lt;ls_sflight&gt;.</span><br><span class="line">  WRITE: / &lt;ls_sflight&gt;-carrid, &lt;ls_sflight&gt;-connid, &lt;ls_sflight&gt;-fldate.</span><br><span class="line">ENDLOOP.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-使用Data-Reference动态创建变量"><a href="#3-使用Data-Reference动态创建变量" class="headerlink" title="3.使用Data Reference动态创建变量"></a>3.使用Data Reference动态创建变量</h3><p>使用Data Reference的主要场景是针对于unknown的变量类型，用于ABAP的动态编程。创建所需要的变量时并不能确定具体的类型（但这里并不是指“漫无边际”的不确定，需要变量&#x2F;结构&#x2F;内表是确定的，而所需要的具体类型是不确定的） -</p>
<p>创建时，并无法确定具体类型的“变量 variable”<br>创建时，并无法确定具体类型的“结构 structure”<br>创建时，并无法确定具体类型的“内表 internal table”<br>下面给出了，三个不同场景的具体例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">**********************************************************************</span><br><span class="line">* 1. Un known data reference(creation of data variable)</span><br><span class="line">**********************************************************************</span><br><span class="line">PARAMETERS: p_var TYPE string DEFAULT &#x27;I&#x27;.</span><br><span class="line"></span><br><span class="line">DATA: lr_data TYPE REF TO data.</span><br><span class="line">CREATE DATA lr_data TYPE (p_var).</span><br><span class="line"></span><br><span class="line">FIELD-SYMBOLS: &lt;fs&gt; TYPE any.</span><br><span class="line">ASSIGN lr_data-&gt;* TO &lt;fs&gt;.</span><br><span class="line">IF sy-subrc = 0.</span><br><span class="line">  &lt;fs&gt; = &#x27;100&#x27;.</span><br><span class="line">ENDIF.</span><br><span class="line"></span><br><span class="line">WRITE: &lt;fs&gt;.</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">**********************************************************************</span><br><span class="line">* 2. Un known data reference(creation of structure)</span><br><span class="line">**********************************************************************</span><br><span class="line"></span><br><span class="line">PARAMETERS: p_var TYPE string DEFAULT &#x27;SFLIGHT&#x27;.</span><br><span class="line"></span><br><span class="line">DATA: lr_data TYPE REF TO data.</span><br><span class="line">CREATE DATA lr_data TYPE (p_var).</span><br><span class="line"></span><br><span class="line">FIELD-SYMBOLS: &lt;fs&gt; TYPE any.</span><br><span class="line">ASSIGN lr_data-&gt;* TO &lt;fs&gt;.</span><br><span class="line">IF sy-subrc = 0.</span><br><span class="line">  SELECT SINGLE * FROM (p_var) INTO &lt;fs&gt;.</span><br><span class="line">  IF sy-subrc = 0.</span><br><span class="line">    FIELD-SYMBOLS: &lt;fs_field&gt; TYPE any.</span><br><span class="line"></span><br><span class="line">    DO .</span><br><span class="line">      ASSIGN COMPONENT sy-index OF STRUCTURE &lt;fs&gt; TO &lt;fs_field&gt;.</span><br><span class="line">      IF sy-subrc = 0.</span><br><span class="line">        WRITE: / &lt;fs_field&gt;.</span><br><span class="line">      ELSE.</span><br><span class="line">        EXIT.</span><br><span class="line">      ENDIF.</span><br><span class="line">    ENDDO.</span><br><span class="line"></span><br><span class="line">  ENDIF.</span><br><span class="line">ENDIF.</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">**********************************************************************</span><br><span class="line">* 3. Un known data reference(creation of table)</span><br><span class="line">**********************************************************************</span><br><span class="line"></span><br><span class="line">PARAMETERS: p_var TYPE string DEFAULT &#x27;SFLIGHT&#x27;.</span><br><span class="line"></span><br><span class="line">DATA: lr_data TYPE REF TO data.</span><br><span class="line">CREATE DATA lr_data TYPE TABLE OF (p_var).</span><br><span class="line"></span><br><span class="line">FIELD-SYMBOLS: &lt;ft_table&gt; TYPE ANY TABLE.</span><br><span class="line"></span><br><span class="line">ASSIGN lr_data-&gt;* TO &lt;ft_table&gt;.</span><br><span class="line">IF sy-subrc = 0.</span><br><span class="line">  SELECT * FROM (p_var) INTO TABLE &lt;ft_table&gt; UP TO 10 ROWS.</span><br><span class="line">  IF sy-subrc = 0.</span><br><span class="line"></span><br><span class="line">    cl_salv_table=&gt;factory( IMPORTING r_salv_table = DATA(lr_salv)</span><br><span class="line">                            CHANGING t_table      = &lt;ft_table&gt; ).</span><br><span class="line">    lr_salv-&gt;display( ).</span><br><span class="line"></span><br><span class="line">  ENDIF.</span><br><span class="line">ENDIF.</span><br></pre></td></tr></table></figure>

<h3 id="4-Field-Symbol使用总结"><a href="#4-Field-Symbol使用总结" class="headerlink" title="4.Field Symbol使用总结"></a>4.Field Symbol使用总结</h3><p>Field <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Symbol&spm=1001.2101.3001.7020">Symbol</a>（以下简称FS），主要作用是程序更加灵活，有时可以实现一般做法无法实现的功能，比如动态ALV内表，LOOP时使用FS还可以提高程序效率。FS缺点是影响程序可读性，为修改和维护代码造成困难，而且有时错误是<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E7%BC%96%E8%AF%91%E5%99%A8&spm=1001.2101.3001.7020">编译器</a>检查不出来的，只有运行时才会发生错误。下面是FS的一些使用总结。</p>
<p>首先请牢记，FS必须和某个变量，结构或者内表绑定后才能使用，这点和C语言里的指针（在ABAP里最接近指针的是TYPE REF TO）是不同的，在使用FS前必须分配给某个变量，不然会发生FS未分配的运行时错误。注意如果LOOP内表时ASSIGNING到FS.，那么之后假如有REFRESH内表的操作的话，FS也会再次回到初始未被ASSIGN的状态，这时如果使用FS也会发生FS未分配的RUNTIME ERROR。</p>
<p>ASSIGN ‘200’ TO<fs1>.意思是指向常量的<fs1>，之后不可更改值，比如执行<fs1> &#x3D; ‘300’会发生运行时错误。如果想实现改值的效果，那么需要ASSIGN一个变量给FS：</p>
<p>DATA gv_abc(6).</p>
<p>gv_abc &#x3D; ‘200’.</p>
<p>ASSGIN gv_abc TO <fs1>.</p>
<p><fs1> &#x3D; ‘300’.</p>
<p>这时<fs1>就从200变更为300了，另外如果直接改变变量的值，那么<fs1>也会发生变化。比如上例里gv_abc &#x3D; ‘400’，那么<fs1>也随之变为400，因为<fs1>和gv_abc是绑定了的。</p>
<p>假设定义了<fs1>和<fs2>两个FS，分别ASSGIN到两个变量，变量A和变量B。</p>
<p>ASSIGN <fs1> TO <fs2>的意思是，让<fs2>也指向<fs1>所指向的地方，即两个FS都指向变量A；而<fs2>&#x3D; <fs1>的意思是，把<fs1>所指向的变量A的值赋给<fs2>所指向的变量B的值，<fs1>依然指向变量A，<fs2>依然指向变量B。</p>
<p>LOOP 内表 INTO 结构（工作区）和LOOP内表ASSIGNING &lt;结构&gt;的比较。</p>
<p>LOOP内表INTO结构时，系统会把先把当前行的数据复制到结构，如果结构的值改了，还需要使用MODIFY语句把更改后的值传回内表。也就是说，结构是内表里的数据的一个副本，操作这个副本并不会影响内表里的数据。带表头的内表也是类似，LOOP内表时，把内表数据复制到表头。</p>
<p>为了提高效率，可以使用FS，FS直接指向内表数据，省去了复制数据到结构的过程，修改FS的值也就是相当于直接修改内表里的数据，不需要再使用MODIFY语句。</p>
<p>这里额外提一点，有一些人喜欢在ENDLOOP前使用CLEAR清空结构，首先这是没有必要的，为了提高效率，LOOP内的语句应该越精简越好，其次如果是LOOP到FS的写法，是不能使用CLEAR清空FS的，因为刚刚说了FS是直接指向内表数据，如果清空了FS，那相当于把内表内对应的那行数据也给清空了。</p>
<p>此外，像LOOP AT 内表 INTO &lt;结构&gt;的写法，初学者容易混淆，其实这里的&lt;结构&gt;是指向一个结构，这种写法和LOOP 内表 INTO 结构没什么区别。</p>
<p>READ TABLE 内表 INTO 结构和READ TABLE 内表 ASSIGNING &lt;结构&gt;的比较。</p>
<p>效率上的区别同LOOP的情况，这里说下READ TABLE和LOOP不同的地方，主要差别是，LOOP 是不会失败的，而READ TABLE是可能失败的，一旦READ失败，那么结构或&lt;结构&gt;的值依然是上次READ成功的值（而不是清空），所以READ使用完建议根据情况CLEAR结构或&lt;结构&gt;。</p>
<p>确定结构的FS和不确定结构的FS。</p>
<p>FIELD-SYMBOLS <gs_ab> TYPE ty_ab. “ty_ab是个结构，有一个字段为col1</p>
<p>FIELD-SYMBOLS <gs_ab> TYPE ANY.</p>
<p>前者是指定了结构，后者是不指定结构。</p>
<p>之后在为<gs_ab>赋值时，</p>
<p>ASSIGN COMPONNET ‘COL1’ OF STUCTURE <gs_ab>TO <fs1>.</p>
<p><fs1> &#x3D; ‘AAA’.</p>
<p>此种写法对确定结构的定义和未确定结构的定义的<gs_ab>都可行。</p>
<p> 但是有确定结构定义的<gs_ab>可以直接使用<gs_ab>-col1 &#x3D; ‘AAA’来赋值。</p>
<p>一般如果能事先知道结构的话，还是应该用确定结构的方式来定义FS，不确定结构的定义通常用于动态处理。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/21/ABAP%E5%8A%A8%E6%80%81%E5%86%85%E8%A1%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/21/ABAP%E5%8A%A8%E6%80%81%E5%86%85%E8%A1%A8/" class="post-title-link" itemprop="url">ABAP动态内表</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-21 18:21:00" itemprop="dateCreated datePublished" datetime="2022-06-21T18:21:00+08:00">2022-06-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-20 18:43:27" itemprop="dateModified" datetime="2022-07-20T18:43:27+08:00">2022-07-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="ABAP动态内表"><a href="#ABAP动态内表" class="headerlink" title="ABAP动态内表"></a>ABAP动态内表</h3><p>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&quot;新特性在ABAP7.5环境下使用</span><br><span class="line">TYPES:BEGIN OF GTY_DATA,</span><br><span class="line">      COL1 TYPE CHAR10,</span><br><span class="line">      COL2 TYPE CHAR10,</span><br><span class="line">      COL3 TYPE CHAR10,</span><br><span class="line">      COL4 TYPE CHAR10,</span><br><span class="line">      COL5 TYPE CHAR10,</span><br><span class="line">      COL6 TYPE CHAR10,</span><br><span class="line">      COL7 TYPE CHAR10,</span><br><span class="line">      COL8 TYPE CHAR10,</span><br><span class="line">      COL9 TYPE CHAR10,</span><br><span class="line">      COL10 TYPE CHAR10,</span><br><span class="line">      COL11 TYPE CHAR10,</span><br><span class="line">      COL12 TYPE CHAR10,</span><br><span class="line">  END OF GTY_DATA.</span><br><span class="line"></span><br><span class="line">DATA:GT_DATA TYPE TABLE OF GTY_DATA,</span><br><span class="line">      GS_DATA TYPE GTY_DATA.</span><br><span class="line"></span><br><span class="line">FIELD-SYMBOLS:&lt;FS_RESULT&gt; TYPE STANDARD TABLE,</span><br><span class="line">               &lt;FS_TABLE&gt; TYPE STANDARD TABLE,</span><br><span class="line">               &lt;FS_LINE&gt; TYPE ANY,</span><br><span class="line">               &lt;FS_DATA&gt; TYPE GTY_DATA.</span><br><span class="line"></span><br><span class="line">DATA:LR_TABLE TYPE REF TO DATA,</span><br><span class="line">      LR_LINE TYPE REF TO DATA.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">*ALV字段列表。 &quot;构建fieldcat</span><br><span class="line">DATA: GT_FIELDCAT TYPE LVC_T_FCAT,</span><br><span class="line">      GS_FIELDCAT TYPE LVC_S_FCAT,</span><br><span class="line">      GS_LAYOUT   TYPE LVC_S_LAYO,</span><br><span class="line">      GT_EVENTS   TYPE SLIS_T_EVENT,</span><br><span class="line">      GS_EVENTS   TYPE SLIS_ALV_EVENT,</span><br><span class="line">      GS_VARIANT  TYPE DISVARIANT.</span><br><span class="line"></span><br><span class="line">PARAMETERS: P_ROW TYPE I DEFAULT 3,</span><br><span class="line">            P_COL TYPE I DEFAULT 3.</span><br><span class="line"></span><br><span class="line">START-OF-SELECTION.</span><br><span class="line">  PERFORM FRM_INIT_DATA.</span><br><span class="line">  PERFORM FRM_FETCH_DATA.</span><br><span class="line"></span><br><span class="line">  PERFORM FRM_DISPLAY_ALV.</span><br><span class="line"></span><br><span class="line">FORM FRM_INIT_DATA.</span><br><span class="line">  DO P_ROW TIMES.</span><br><span class="line">    DATA(LV_INDEX) = SY-INDEX.</span><br><span class="line">    &quot;快速创建并分配指针，添加空行,&lt;FS_DATA&gt;指向GT_DATA</span><br><span class="line">    APPEND INITIAL LINE TO GT_DATA ASSIGNING &lt;FS_DATA&gt;.</span><br><span class="line">    IF &lt;FS_DATA&gt; IS ASSIGNED.</span><br><span class="line">      DO 12 TIMES.</span><br><span class="line">        DATA(LV_COMP) = |COL&#123; SY-INDEX &#125;|.</span><br><span class="line">        &quot;填充&lt;FS_COMP&gt;指向&lt;FS_DATA&gt;</span><br><span class="line">        ASSIGN COMPONENT LV_COMP OF STRUCTURE &lt;FS_DATA&gt; TO FIELD-SYMBOL(&lt;FS_COMP&gt;).</span><br><span class="line">       IF SY-SUBRC = 0.</span><br><span class="line">         &lt;FS_COMP&gt; = |&#123; LV_COMP &#125;--&#123; LV_INDEX &#125;|.</span><br><span class="line">       ENDIF.</span><br><span class="line">      ENDDO.</span><br><span class="line">    ENDIF.</span><br><span class="line">  ENDDO.</span><br><span class="line">  &quot;初始化列</span><br><span class="line">  DO P_COL TIMES.</span><br><span class="line">    LV_COMP = |COL&#123; SY-INDEX &#125;|.</span><br><span class="line">    DATA(LV_TEXT) = |列&#123; SY-INDEX &#125;|.</span><br><span class="line">    PERFORM FRM_FILL_FIELDCAT USING SY-INDEX LV_COMP LV_TEXT.</span><br><span class="line">  ENDDO.</span><br><span class="line">  ENDFORM.</span><br><span class="line"></span><br><span class="line">FORM FRM_FILL_FIELDCAT USING P_COL P_FIELDNAME P_TEXT.</span><br><span class="line">  APPEND INITIAL LINE TO GT_FIELDCAT ASSIGNING FIELD-SYMBOL(&lt;FS_FIELD&gt;).</span><br><span class="line">  IF &lt;FS_FIELD&gt; IS ASSIGNED.</span><br><span class="line">    &lt;FS_FIELD&gt;-COL_POS = P_COL.</span><br><span class="line">    &lt;FS_FIELD&gt;-FIELDNAME = P_FIELDNAME.</span><br><span class="line">    &lt;FS_FIELD&gt;-SCRTEXT_M = P_TEXT.</span><br><span class="line">  ENDIF.</span><br><span class="line">  ENDFORM.</span><br><span class="line"></span><br><span class="line">FORM FRM_FETCH_DATA.</span><br><span class="line">  SORT GT_FIELDCAT BY COL_POS.</span><br><span class="line"></span><br><span class="line">  &quot; 根据列创建动态内表</span><br><span class="line">  CALL METHOD CL_ALV_TABLE_CREATE=&gt;CREATE_DYNAMIC_TABLE</span><br><span class="line">    EXPORTING</span><br><span class="line">      IT_FIELDCATALOG = GT_FIELDCAT</span><br><span class="line">    IMPORTING</span><br><span class="line">      EP_TABLE        = LR_TABLE.</span><br><span class="line"></span><br><span class="line">  &quot; 将表对象分配给指针</span><br><span class="line">  ASSIGN LR_TABLE-&gt;* TO &lt;FS_TABLE&gt;.</span><br><span class="line"></span><br><span class="line">*  &quot; 根据表对象创建行对象</span><br><span class="line">*  CREATE DATA LR_LINE LIKE LINE OF &lt;FS_TABLE&gt;.</span><br><span class="line">*</span><br><span class="line">*  &quot; 将行对象分配给指针</span><br><span class="line">*  ASSIGN LR_LINE-&gt;* TO &lt;FS_LINE&gt;.</span><br><span class="line"></span><br><span class="line">&quot; &lt;FS_TABLE&gt;按照GT_DATA重新赋值，相同字段赋值gt_data的值，不同字段重新定义</span><br><span class="line">  &lt;FS_TABLE&gt; = CORRESPONDING #( GT_DATA ).</span><br><span class="line">  </span><br><span class="line">  &quot;直接赋值</span><br><span class="line">*DATA itab TYPE TABLE OF i.</span><br><span class="line">*itab = VALUE #( ( 1 ) ( 2 ) ( 3 ) ). &quot;itab此时赋值为1,2,3</span><br><span class="line">*itab = VALUE #( ( 4 ) ( 5 ) ( 6 ) ). &quot; itab被覆盖，重新赋值4,5,6</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  ENDFORM.</span><br><span class="line"></span><br><span class="line">FORM FRM_DISPLAY_ALV.</span><br><span class="line">CALL FUNCTION &#x27;REUSE_ALV_GRID_DISPLAY_LVC&#x27;</span><br><span class="line">    EXPORTING</span><br><span class="line">      I_CALLBACK_PROGRAM = SY-CPROG</span><br><span class="line">      IT_FIELDCAT_LVC    = GT_FIELDCAT</span><br><span class="line">      I_DEFAULT          = &#x27;X&#x27;</span><br><span class="line">      I_SAVE             = &#x27;A&#x27;</span><br><span class="line">    TABLES</span><br><span class="line">      T_OUTTAB           = &lt;FS_TABLE&gt;.</span><br><span class="line"></span><br><span class="line">  ENDFORM.</span><br></pre></td></tr></table></figure>

<hr>
<p>获取字段标题，并动态获取内表中的字段值（最简单实例）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">FIELD-SYMBOLS:&lt;fs_comp&gt; TYPE abap_compdescr.</span><br><span class="line">  FIELD-SYMBOLS &lt;fs_name&gt; TYPE ANY.</span><br><span class="line">  FIELD-SYMBOLS:&lt;fs&gt; TYPE ANY.</span><br><span class="line"></span><br><span class="line">  cl_descr ?= cl_abap_typedescr=&gt;describe_by_data( in_tab ).</span><br><span class="line">  LOOP AT cl_descr-&gt;components ASSIGNING &lt;fs_comp&gt;.</span><br><span class="line">    READ TABLE it_atnam INTO wa_atnam WITH key atnam = &lt;fs_comp&gt;-name.</span><br><span class="line">    IF sy-subrc = 0.</span><br><span class="line">      it_char-charact = wa_atnam-atnam.</span><br><span class="line">      ASSIGN wa_atnam-atnam to &lt;fs&gt;.</span><br><span class="line">      ASSIGN COMPONENT wa_atnam-atnam of STRUCTURE in_tab to &lt;fs&gt;.</span><br><span class="line"></span><br><span class="line">      it_char-charact = wa_atnam-atnam.</span><br><span class="line">      it_char-value_char = &lt;fs&gt;.</span><br><span class="line">      append it_char.</span><br><span class="line"></span><br><span class="line">    ENDIF.</span><br><span class="line">  ENDLOOP.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/20/SAP%E7%94%9F%E4%BA%A7%E8%AE%A2%E5%8D%95BOM%E7%BB%84%E4%BB%B6%E4%BF%AE%E6%94%B9ABAP%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/20/SAP%E7%94%9F%E4%BA%A7%E8%AE%A2%E5%8D%95BOM%E7%BB%84%E4%BB%B6%E4%BF%AE%E6%94%B9ABAP%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">SAP生产订单BOM组件修改ABAP函数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-20 18:28:00 / 修改时间：18:30:02" itemprop="dateCreated datePublished" datetime="2022-06-20T18:28:00+08:00">2022-06-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p> 最近，在做某个项目的时候，业务部门有一个需求是需要通过接口去修改SAP生产订单BOM组件的信息，解决由于订单BOM不准反向通过实际发料来更新订单BOM组件数量，使其满足财务核算及MRP运算的要求。</p>
<p>​    一般SAP有2种方式可以处理：</p>
<p>​    1.使用BDC录屏的方式，但是录屏的方式因为在CO02功能里面做了大量的增强和个性化设置，只要有一个字段或界面元素没考虑周全，就会造成接口修改不成功，稳定性较差，后期的维护成本高及用户体验较差。</p>
<p>​    2.使用BAPI_ALM_ORDER_MAINTAIN函数修改生产订单BOM组件，这个函数原本是系统用来修改PM生产订单信息的，不仅可以修改PM生产订单BOM组件信息，还可以修改PM生产订单抬头信息、PM生产订单工艺路线信息等，如下图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/59ec1713804223c94d93fe54e0ec1465.png" alt="img"></p>
<p>由于SAP没有提供其它可用的ABAP函数来修改一般的生产订单信息，所以需要修改此函数源代码，跳过相应的PM订单检查，把此函数改造为通用订单修改函数，具体如下：</p>
<p>IT_METHODS是选择调用接口的对象与方法名，</p>
<p>比如：OBJECTTYPE&#x3D;COMPONENT，METHOD&#x3D;CHANGE</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/6d4750e12e4b999a044eb82a4b57f307.png" alt="img"></p>
<p>修改订单BOM组件对应的是IT_COMPONENT、IT_COMPONENT_UP两个参数表</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/e30fd86a9412aa0e7b363c840080a242.png" alt="img"></p>
<p>   然后通过生产订单号找到RESB表中对应生产订单的预留号、预留行号信息，根据实际需求输入表里面相应的参数就可以完成对订单BOM组件的修改了</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/b335df332f2147ea397bb8e8225e92bf.png" alt="img"></p>
<p>应用情况如下：</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/e9ef6193e932aa10394e20773f4ba477.png" alt="img"></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/f66e66c04c924aa625a4e8d3c4b57f4c.png" alt="img"></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/40baf7e1c317f15567d71f741fe6d54a.png" alt="img"></p>
<p>即完成生产订单BOM数量的修改。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/20/SAP%E8%84%9A%E6%9C%AC%E5%BD%95%E5%88%B6%E4%B8%8E%E5%9B%9E%E6%94%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/20/SAP%E8%84%9A%E6%9C%AC%E5%BD%95%E5%88%B6%E4%B8%8E%E5%9B%9E%E6%94%BE/" class="post-title-link" itemprop="url">SAP脚本录制与回放功能</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-20 17:28:00" itemprop="dateCreated datePublished" datetime="2022-06-20T17:28:00+08:00">2022-06-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-21 07:54:07" itemprop="dateModified" datetime="2022-06-21T07:54:07+08:00">2022-06-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>SAP系统的脚本录制功能，支持VB Script，可以将屏幕操作记录下来，转换成VB Script代码，VB Script代码编辑修改后可用在office软件中的vba中，可以批量进行数据处理。</p>
<p>​    一、开启SAP脚本录制功能</p>
<p>​    事务代码：RZ11</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/81ii58rk00.png" alt="img"></p>
<p> 输入参数名称：sapgui&#x2F;user_scripting，回车</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/5euwlxi0c3.png" alt="img"></p>
<p> 进入“参数详细信息”界面后，点击“更改值”</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/b587w8m0co.png" alt="img"></p>
<p> 找到“新价值”录入框，录入“TRUE”，然后保存，即可激活SAP脚本录制功能。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/nc5tugndbh.png" alt="img"></p>
<p> 在SAP首页，点击“更多”–“SAP GUI 设置和操作”–“脚本录制和回放”为可选状态，且能调出录制控件，即表示激活成功。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/yq9t9g3s7l.jpeg" alt="img"></p>
<p>​    二、SAP脚本录制功能测试</p>
<p>​    我们以修改物料主数据的“MRP2视图”中的“计划交货时间”为例，如下：</p>
<p>​    1.打开录制，点下图红色按钮</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/6us71ox25v.png" alt="img"></p>
<p> 2.输入事务代码“&#x2F;nMM02”</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/fbdanrighk.png" alt="img"></p>
<p>​        输入物料编码、选择工厂代码，进入到MRP2视图，找到计划交货时间，并进行修改后保存。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/fbb5yjslk.png" alt="img"></p>
<p>​    3.录制结束，停止录制</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/3oghu3jdt7.png" alt="img"></p>
<p>   \4. 找到存放脚本的文件夹，如果未修改，脚本默认名称为Script1.vbs</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/5ww447pc4p.png" alt="img"></p>
<p>​    5.使用记事本格式或装vb打开录制脚本</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/2hsr965c76.png" alt="img"></p>
<p>​    获取脚本引擎的方法，如下：</p>
<p>​        Set SapGuiAuto  &#x3D; GetObject(“SAPGUI”)</p>
<p>​        Set application &#x3D; SapGuiAuto.GetScriptingEngine</p>
<p>​    只需要复制上图红色框部分内容到EXCEL的VBA代码中。</p>
<p>​    6.在EXCEL中整理需要维护的物料编码、计划交货日期</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/m34rh2fj49.png" alt="img"></p>
<p>​    7.在EXCEL“开发工具”–“VBA代码”里将脚本复制到vba编辑器， 添加FOR循环，达到批量修改的目的，把物料编码修改为表格的第1列，把计划交货时间修改为表格的第2列</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/uvb4tu6qp.png" alt="img"></p>
<p>实际vba代码，修改mm02计划交货日期，使用前提：sap已登录。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Sub SAPTEST()</span><br><span class="line">    Dim i%</span><br><span class="line">    Set SapGuiAuto = GetObject(&quot;SAPGUI&quot;)</span><br><span class="line">    Set sapApplication = SapGuiAuto.GetScriptingEngine</span><br><span class="line">    Set Connection = sapApplication.Children(0)</span><br><span class="line">    Set session = Connection.Children(0)</span><br><span class="line">    </span><br><span class="line">For i = 2 To 4</span><br><span class="line">With session.findById(&quot;wnd[0]&quot;).maximize</span><br><span class="line">session.findById(&quot;wnd[0]/tbar[0]/okcd&quot;).Text = &quot;/NMM02&quot;</span><br><span class="line">session.findById(&quot;wnd[0]&quot;).sendVKey 0</span><br><span class="line">session.findById(&quot;wnd[0]/usr/ctxtRMMG1-MATNR&quot;).Text = Cells(i, 1)</span><br><span class="line">session.findById(&quot;wnd[0]&quot;).sendVKey 0</span><br><span class="line">session.findById(&quot;wnd[1]&quot;).sendVKey 0</span><br><span class="line">session.findById(&quot;wnd[0]/usr/tabsTABSPR1/tabpSP14&quot;).Select</span><br><span class="line">session.findById(&quot;wnd[1]/usr/ctxtRMMG1-WERKS&quot;).Text = &quot;2000&quot;</span><br><span class="line">session.findById(&quot;wnd[1]/usr/ctxtRMMG1-WERKS&quot;).caretPosition = 4</span><br><span class="line">session.findById(&quot;wnd[1]&quot;).sendVKey 0</span><br><span class="line">session.findById(&quot;wnd[0]/usr/tabsTABSPR1/tabpSP14/ssubTABFRA1:SAPLMGMM:2000/subSUB3:SAPLMGD1:2485/txtMARC-PLIFZ&quot;).Text = Cells(i, 2)</span><br><span class="line">session.findById(&quot;wnd[0]/usr/tabsTABSPR1/tabpSP14/ssubTABFRA1:SAPLMGMM:2000/subSUB3:SAPLMGD1:2485/txtMARC-PLIFZ&quot;).SetFocus</span><br><span class="line">session.findById(&quot;wnd[0]/usr/tabsTABSPR1/tabpSP14/ssubTABFRA1:SAPLMGMM:2000/subSUB3:SAPLMGD1:2485/txtMARC-PLIFZ&quot;).caretPosition = 1</span><br><span class="line">session.findById(&quot;wnd[0]&quot;).sendVKey 0</span><br><span class="line">session.findById(&quot;wnd[1]/usr/btnSPOP-OPTION1&quot;).press</span><br><span class="line">session.findById(&quot;wnd[0]/tbar[0]/btn[15]&quot;).press</span><br><span class="line"></span><br><span class="line">End With</span><br><span class="line">Next i</span><br><span class="line">End Sub</span><br></pre></td></tr></table></figure>

<p>  <img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/image-20220621075119024.png" alt="image-20220621075119024"></p>
<p>  8.最后，点执行按钮，即可进行SAP的批量数据更新处理</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/npk4e41hrh.png" alt="img"></p>
<ol start="9">
<li>需要注意的地方是，如果物料编码本身手工操作修改有问题，那么用vba批导也可能会619错误，这个要注意下。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/20/SAP%20NOTE%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/20/SAP%20NOTE%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B/" class="post-title-link" itemprop="url">SAP NOTE安装过程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-20 17:18:00 / 修改时间：17:17:41" itemprop="dateCreated datePublished" datetime="2022-06-20T17:18:00+08:00">2022-06-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>1.更改note的目标系统client配置</strong></p>
<p>登录sap系统，事务代码scc4.选中client点击左上角的change图标，如下图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/hosvmz36zi.png" alt="img"></p>
<p>将changes and transports for Client-Specific Objects一项由No changes allowed更改到changes without automatic recording.</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/fgugtuc9oa.png" alt="img"></p>
<p>将Cross-Client Object Changes 一项由No changes to Repository and cross-client Customizing objs更改到Changes to Repository and cross-client Customizing allowed.</p>
<p><strong>2.更改系统选项</strong></p>
<p>  事务代码：se06，点击左上角“系统更改选项”。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/fpq67mi55q.png" alt="img"></p>
<p>将EA-APPL，EA-FINSERV，EA-GLTRADE对应的更改项由Not Modifiable更改为Restricted Modifiable.将ABAP&amp;GUI Tools 更改项由Not Modifiable 更改为Modifiable.</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/447b8vq321.jpeg" alt="img"></p>
<p><strong>3.导入note</strong></p>
<p>  事务代码：snote  点击“Download SAP Note”图标。在弹出的对话框中填写需要安装的note号。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/syyvfuuai6.png" alt="img"></p>
<p>  填完后点击Execute执行，此时系统会将该note导入到系统中，前提是这个note号存在，可导入状态。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/hr74jdkckz.png" alt="img"></p>
<p>​    此时在New中就有了该note信息，双机note号，执行就可以了。</p>
<p> <strong>4.新建传输号</strong></p>
<p>  对每一个note新建一个传输号，从配置环境并传输到需要的测试或生产环境中。</p>
<p>   其它注意事项：NOTE按照完成后，需要把SCC4和SE06的参数修改回来。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/20/SAP%E5%B8%B8%E8%A7%81%E7%9A%84%E5%87%A0%E4%B8%AA%E6%8E%A5%E5%8F%A3%E6%8A%80%E6%9C%AF%E5%8C%BA%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/20/SAP%E5%B8%B8%E8%A7%81%E7%9A%84%E5%87%A0%E4%B8%AA%E6%8E%A5%E5%8F%A3%E6%8A%80%E6%9C%AF%E5%8C%BA%E5%88%AB/" class="post-title-link" itemprop="url">SAP常见的几个接口技术区别</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-20 17:08:00 / 修改时间：17:09:12" itemprop="dateCreated datePublished" datetime="2022-06-20T17:08:00+08:00">2022-06-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>RFC</strong>是SAP接口技术中最简单和易用的一种方式，该方式开发比较简便，特别适合于外部报表开发，但对于<a target="_blank" rel="noopener" href="https://cloud.tencent.com/solution/bigdata?from=10680">大数据</a>量的查询效率相对较低。</p>
<p><strong>BAPI</strong>基于RFC技术实现，被作为BO的Interface使用，是SAP提供的稳定而强大的业务接口，其增强和版本控制都在业务对象仓库中记录。BAPI效率相对比较高，这个主要体现在有些BAPI是用direct input的方式写的。但当你写的不只是一个LUW时，而每个LUW都比较简单，在这种情况下就用RFC开发比较快。</p>
<p><strong>IDoc</strong>是一种数据交换格式，类似于XML的概念，是SAP标准的文件交换格式。IDoc基于文档，通常IDoc用于异步处理，可以处理批量数据。而RFC常用于同步处理，而且并不适用于批量数据的处理。同时在Monitor和Troubleshooting方面，IDoc功能非常强大。</p>
<p><strong>ALE</strong>主要用于SAP系统内部数据交换。EDI主要用于外部或不同client 间数据交换。它们同时都可采用 IDoc 的方式作为数据的传输格式。</p>
<p><strong>Web Services</strong>是一种松散耦合的组件，使用XML描述交换信息内容，可以保证信息的自描述性和自适应性。WS的分布与地理位置无关，这样就可将非核心业务外包给专门的服务提供商。WS基于开放标准与技术（XML &#x2F; SOAP &#x2F; UDDI等），使其特别适合于异构平台的多样性和可扩展性。</p>
<p><strong>XI</strong>适配器(Adapter)进行XML格式与业务系统的特定类型的数据格式之间的转换。依据业务系统的数据格式的不同，适配器可以分为多种类型，比如 SOAP Adapter, JDBCAdapter, File Adapter, RFC Adapter, IDoc Adapter , WS Adapter和XI Adapter等。WS Adapter和XI Adapter是基于Web Service技术实现的。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/20/%E7%89%A9%E6%96%99%E7%BC%96%E7%A0%81%E7%9A%84%E7%BB%8F%E9%AA%8C%E6%B5%85%E8%B0%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/20/%E7%89%A9%E6%96%99%E7%BC%96%E7%A0%81%E7%9A%84%E7%BB%8F%E9%AA%8C%E6%B5%85%E8%B0%88/" class="post-title-link" itemprop="url">物料编码的经验浅谈</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-20 16:28:00 / 修改时间：16:32:43" itemprop="dateCreated datePublished" datetime="2022-06-20T16:28:00+08:00">2022-06-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>物料的名称、规格等都不能作为区别物料的标示，同名同规格的物料总是存在的。要实现物料的科学管理，物料编码是基础。</p>
<p>　　为了对物料实现统一编码，许多企业特别是大中型企业，通常设有独立的物料编码机构，或组织专项编码培训班等。但往往实践证明，相关的执行部门最终还是没有严格按照物料编码的规则执行，工作也没有达到预想中的效果。物料编码和企业标准化工作也息息相关，很多企业在推行标准化（模块化设计）工作中，花费了大量的人力和物力，又是抽调骨干队伍，又是收集图纸、制定标准，一干就是好几年。但最后，往往又是无疾而终。物料编码，是一件简单的事情，但绝对不是一件容易做好的事情；是一件重要且有意义的事情，但绝对不是每家企业都能做好的事情。</p>
<p><strong>一、物料编码的功能</strong></p>
<p>　　物料编码是以简短的文字、符号或数字、号码来代表物料、品名、规格或类别及其它有关事项的一种管理工具。在物料极为单纯、物料种类极少的工厂或许有没有物料编码都无关紧要，但在物料多到数百种或数千、数万种以上的工厂，物料编码就显得格外重要了。此时，物料的领发、验收，请购、跟催、盘点、储存等工作极为频紧，而借着物料编码，使各部门提高效率，各种物料数据传递迅速、意见沟通更加容易。物料编码之功能如下：</p>
<p>　　1、增强物料数据的正确性；</p>
<p>　　物料的领发、验收、请购、跟催、盘点、储存、记录等一切物料之活动均有物料编码可以查核，因此物料数据更加正确。至于一物多名，一名多物或物名错乱之现象不致于发生。</p>
<p>　　2、提高物料管理的工作效率；</p>
<p>　　物料既有系统的排列，以物料编码代替文字的记述，物料管理简便省事，效率因此提高。</p>
<p>　　3、利于计算机的管理；</p>
<p>　　物料管理在物料编码推行彻底之后，方能进一步利用计算机作更有效的处理，以达到物料管理之效果。</p>
<p>　　4、降低物料库存、降低成本；</p>
<p>　　物料编码利于物料库存量的控制，同时利于呆料的防止，并提高物料管理工作的效率，因此可减轻资金的积压，降低成本。</p>
<p>　　5、防止物料舞弊事件之发生；</p>
<p>　　物料一经编码后，物料记录正确而迅速，物料储存井然有序，可以减少舞弊事件之发生。</p>
<p>　　6、便于物料之领用；</p>
<p>　　库存物料均有正确的统一的名称及规格予以编码。对用料部门的领用以及物料仓库的发料都十分方便。</p>
<p>　　7、便于压缩物料的品种、规格。</p>
<p>　　对物料进行编码时，可以对某些性能相近或者相同的物料进行统一、合并和简化，压缩物料的品种、规格。</p>
<p><strong>二、物料编码的误区</strong></p>
<p>　　图号作为物料编码</p>
<p>　　随着信息化的不断推进，当前大部分的中国企业都在使用CAD等辅助设计系统。由于设计管理规范的要求，每张图纸都会有一个图号，于是大部分的企业直接使用图号作为物料的编码。但使用图号作为物料编码，会存在如下问题：</p>
<p>　　1、由于技术部门并不负责原材料的管理，原材料就没有图号；</p>
<p>　　2、图号并不唯一；</p>
<p>　　很多使用图号作为物料编码的企业，他们一直认为这是比较合理的。图号能够表述物料的唯一性吗？他们认为：“可以……但是，极个别的不能。”为什么极个别的不能？同样一张设计图纸，可以使用不锈钢制造，也可以使用镀锌板制造，两种不同的原材料制造出来的产品，我们能够说是一样的吗？但他们的图号确实就是一样的。</p>
<p>　　3、图号的管理本身不规范；</p>
<p>　　大部分的研发部门对于图号的编码管理本身就不严谨。不同的设计人员、不同的设计小组遵循的编码规则并不相同，导致后续使用图号的混乱，图号作为物料编码就更加不合适了。因</p>
<p>　　要求物料编码表述大量的信息</p>
<p>　　部分企业由于缺乏物料编码的经验，在制定编码规则的时候，往往希望制定出一套万能的、一见到编码就可以知道物料所有情况的规则。包括物料种类、属性、供应商信息，甚至包括存放仓库的信息。这些对于编码的过高期望，都是由于没有编码制定经验造成的。期望越高，失望就越大。编码就是编码，它无法表达其根本无法承载的过多信息。</p>
<p>　　把制定编码规则的工作交给个别人或部门去完成</p>
<p>　　企业的管理层往往习惯把编码工作交给技术部门或者某个资深员工来主持完成。这种做法忽略了一点，编码真正使用最多的是物料管理部门、财务部门，而非制定编码规则的技术部门。制定物料编码，应该联合技术部门、物料管理部门、财务门，组成制定团队共同完成。</p>
<p><strong>三、物料编码的原则</strong></p>
<p>　　物料编码必须合乎物料编码的原则，合理的物料编码，必须具备下列基本原则：★简单性 ★分类展开性 ★完整性 ★单一性  ★一贯性  ★可伸缩性  ★组织性 ★适应计算机管理 ★充足性。</p>
<p>　　1、简单性</p>
<p>　　编码的目的在于将物料化繁为简，便于物料的管理，如果编码过于繁杂，则违反了编码之目的。因切此物料编码在应用文字元号或数字上应力求简单明了，这样可节省阅读、填写、抄录的时间与手续，并可减少其中的错误机会。</p>
<p>　　2、分类展开性</p>
<p>　　物料复杂，物料编码大分类后还要加以细分，如果采用阿拉伯数字十进制，则每段最多只能由十个细分的项目，如果采用英文字母，则每段有26个细分项目，然而细分项目太多，就难于查找，而细分项目太少，则分类展开太慢，分类细分项目通常以五至九个较佳。例如采用阿拉伯数字十进制，有十八个项目时，其分类展开可以利用下列方法。</p>
<p>　　3、完整性</p>
<p>　　在物料编码时，所有的物料都应有物料编码可归，这样物料编码才能完整。若有些物料找不到赋予之物料编码，则很显然物料编码缺乏完整性。新产品新物料的产生容易破坏物料编码的完整性。因此每当有新物料产生，即应赋予新的物料编码，并规定新的物料没有编码，采购部门不得从事采购，即使没物料编码的新物料采购进来了，仓库部门或会计部门发现物料订购单缺少物料编码，即应请采购部门补填物料编码，否则不予入库、不予付款。这样才能确保物料编码的完整性。</p>
<p>　　4、单一性</p>
<p>　　物料编码的单一性是指一个物料编码只能代表一种物料，同一种物料只能找到一个物料编码，而绝无一个物料有数个物料编码，或一个物料编码有数项物料，一般地，只要物料的物理或化学性质有变化、只要物料要在仓库中存储、就必须为其指定一个编码，举例，如某零件要经过冲压成型、钻孔、喷漆三道工序才能完成。如果该物料的三道工序都在同一车间完成，不更换加工单位，即冲压成型后立即进行钻孔，紧接着进行喷漆，中间没有入库、出库处理，则该物料可取一个代码。如果该物料的三道工序不在同一个车间完成，其顺序是冲压、入库、领料、钻孔、入库、领料、喷漆、入库，则在库存管理中为了区分该物料的三种状态，必须取不同的物料编码。例：3000A,3000B,3000C三个编码分别表示三种不同加工状态的物料。</p>
<p>　　5、一贯性</p>
<p>　　物料编码要统一而有一贯性，如以年限分类为标准时，就应一直沿用下去，在中途不能改变用籍贯或姓氏别来分类，若要这么做必须要分段或分级进行。</p>
<p>　　6、伸缩性</p>
<p>　　物料编编码要考虑到未来新产品发展以及产品规格的变更而发生物料扩展或变动的情形。预留物料的伸缩余地，并不能仅就目前物料的现状加以物料编码的安排，否则他日新物料产生时，就有新物料无号可编的情况。</p>
<p>　　7、组织性</p>
<p>　　物料编码依其编码的系统，作井然有序的组织与排列，以便随时可从物料编码查知某项物料帐卡或数据。物料编码的组织性，对物料管理可以省掉不必要的麻烦。</p>
<p>　　8、适应电脑管理</p>
<p>　　电脑的应用已经比较普及，因此在编码时一定要考虑录入的方便性,如编码尽可能短、少使用其它符号，如‘#’、‘-’、‘*’等。</p>
<p>　　9、充足性</p>
<p>　　物料编码所采用的文字、记号或数字，必须有足够的数量，以便所组成的个别物料编码，足以代表所有个别物料，以及应付将来物料扩展时的实际需要，以免遇有特殊物料时无号可编。否则物料系统被破坏，费时误事。</p>
<p>　　10、易记性</p>
<p>　　在不影响上述九项原则之下，物料编码应选择易于记忆的文字、符号或数字，或赋予暗示及联想性。但这原则是属于次要原则，若上述九项原则俱全而独缺乏此项原则的物料编码，仍不失为优秀的物料编码。</p>
<p><strong>四、物料编码的技巧</strong></p>
<p>　　1、编码规则需尽可能反映物料大类。</p>
<p>　　物料大类可以让我们对物料的类别有一个直接的判断。比如我们每天都在使用移动电话，如果我们看到139号段的号码，就知道是移动的来电。大类的划分原则往往是：第一码：产成品、半成品、原材料、辅料、低值易耗，主要供财务使用；第二码：真正的类别，依据企业不同的情况具体制定。</p>
<p>　　2、编码需要长短适中。</p>
<p>　　按照人的记忆习惯，7-13位的编码是比较合理的。</p>
<p>　　3、尽量不要使用有特别意义的编码。</p>
<p>　　很多物料编码的初衷是为了清晰明了地表述物料，如将钢板编码成GB，简单易懂。但随着物料种类的增加，以GB编码的物料也不再仅限于“钢板”，“钢笔”就以GB命名。</p>
<p>　　4、避免使用难以交流和区别的字符。</p>
<p>　　文字代表了中华民族博大精深的文化，拼音更被誉为世界上最复杂的字符之一。如果单纯通过拼音字母，如G和J，很大部分人会因为不标准的发音而难以进行区分。另外，字母L的小写打印出来以后和数字1没有区别，O打印出来后和数字0没有区别等等。我们在制定编码规则过程中，要尽量避免使用这些容易产生混淆的字符。</p>
<p>　　5、不要把可能变动的信息编入编码。</p>
<p>　　什么是可能变动的信息？举个最简单的例子，现在很多企业将员工编码规则定为：部门号+流水码。笔者认为这是最不合理的编码，员工如果发生人事变动或者岗位变换，编码就无法准确表述其所在部门。如果员工的人事和岗位变动频繁了，编码反而成为企业的困扰。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/5fltuh25yi.jpeg" alt="img"></p>
<p><strong>五、物料编码如何有效推行</strong></p>
<p>　　很多企业在花费了大量的人力、物力和财力制定出一套科学的、合乎企业实际情况的物料编码体系后，就像他们制定的其他厚厚的管理制度文件一样，被锁进了黑暗的文件柜中，仅仅在进行相关质量体系认证时拿出来使用。当然，有同行过来参观的时候，也会时常拿出来进行炫耀。</p>
<p>　　制定完善的物料编码规则只是物料编码工作的第一步。如何使制定的编码规则在企业内部真正得到推行，改善和解决技术、物管、财务等部门各自为政、多套编码并存、多种物料称谓混乱等企业管理问题，才是物料编码工作中最实质性的一步。有效推行企业的物料编码工作有两种途径：</p>
<p>　　1、实施软件管理系统</p>
<p>　　实施ERP等信息化软件系统，是在系统中固化物料编码，实现强制推行的最容易也最有效的方式。ERP系统会按照企业制定的物料编码规则，自动生成编码。ERP系统具备的便捷的查询、排序等功能，也可以让员工快速体验统一编码带来的效益，进而积极配合编码工作的执行。合理的编码规则结合ERP、PDM系统中的查询、排序功能，对于企业标准化工作的推行会起到直接的积极影响。</p>
<p>　　2、设定专人负责编码</p>
<p>　　如果企业尚不具备实施ERP、PDM等信息化系统的条件，要实现物料编码规则的贯彻执行，唯一的办法就是通过制定物料控制流程，设定专人控制物料编码。在流程的执行过程中，严格遵守物料编码唯一出口原则。</p>
<p>　　企业制定出来的物料编码规则得不到真正有效推行，究其原因，在推行组织机构的设定、物料编码流程的执行等方面一定有不到位的地方。因此设定专人负责物料，不失为有效地办法。</p>
<p><strong>附录：解析物料需求计划的概念和特点</strong></p>
<p> MRP是根据何时主生产计划表上需要物料来决定订货和生产,从理论上来看,是比较占优势的一种方法。</p>
<p><strong>物料需求计划的概念</strong></p>
<p>　　物料是一个广义的概念,它不仅仅指原材料而言,而是包含原材料、自制品(零部件)、成品、外购件和服务件(备品备件)这个更大范围的物料。因此,这是一个广义的物料。对于各种物料的管理并非仅仅是对物料的库存管理,而是包括建立科学的、系统的物料需求计划;协调和控制各部门适当数量的物料。在物料管理中,一方面要满足生产过程中的物料的充分供应,保证生产过程的连续进行而不发生中断;另一方面又要控制物料储备量的限度,减少所占用的流动资金,加速资金周转,降低产品成本。我们已经了解物料管理中的订货点方法是根据需要量,提前期和安全库存来维护需求而决定何时订货。物料管理中另一种方法是物料需求计划方法。</p>
<p>　　物料需求计划MRP(Material Requirements Planning)是60年代在美国出现,70年代发展起来的一种管理技术和方法。MRP是根据何时主生产计划表上需要物料来决定订货和生产,从理论上来看,是比较占优势的一种方法。但是,在计算机应用之前,人工需用6～13个星期计算物料需要量,因此也只能按季度订货,这样的话,MRP方法也不见得比订货点方法优越。然而,应用计算机之后,情况就大不同了,计算物料需求量的时间被缩短至1～2天,订货日期短、订货过程快,可以由每季订货改为每月。因此,MRP成为人们公认的物料管理的好方法。随着计算机计算能力的增强,许多企业每个星期重新研究订货量,这种根据实际情况进行计算的能力使订货期缩短为每个星期。这样,物料的”需求期”更加明确,经过了大约十年,人们渐渐感觉到订货必须按照主生产计划才能更有效。人们逐渐地认识到,主生产计划应该是代表工厂中真正能生产的物料,才能保证物料需求计划中计算出有用的需求日期。如果主生产计划表上有许多不可能生产的物料或者因为原料缺乏而不能进行制造的物料,MRP便不能发挥作用了。然而,根据缺料情况计算出来的缺料表确是一个实用的MRP。因此,也就有了所谓的优先计划。</p>
<p>　　缺料表的理论是基本而实用的。从主生产计划上可以了解工厂将要生产什么,然后从物料清单查出所要的物料,根据所要的物料查核物料库存量,列出一张缺料表。</p>
<p>　　如果使用计算机进行以上工作,把主生产计划输入至计算机中,物料清单和库存量分别储存在<a target="_blank" rel="noopener" href="https://cloud.tencent.com/solution/database?from=10680">数据库</a>中,经过计算机计算,便可以输出一份完整的物料需求计划了。物料需求计划方法克服了许多缺料表使用上的难题:计划的期限能延伸至1～2年,计划的周期可以每周、每天或者是随机的;计划变动的修改方便灵活。在制造业里,缺料表才是真正的计划系统。人们可以预测未来一年里会有什么物料短缺。虽然主生产计划表还是会有改变,但是物料需求计划有可能跟着改变,解决未来的物料短缺不是等到短缺发生后再进行,而是事先根据MRP的计算而产生一份计划表了,这样就降低了库存量,压缩库存资金,降低成本。</p>
<p>　　计算机使物料需求计划成为一个可行的系统,这个系统的基本逻辑是:</p>
<p>　　我们将制造什么?(按主生产计划制造)；</p>
<p>　　用什么东西来制造?(根据物料清单)；</p>
<p>　　我们具备些什么?(库存)；</p>
<p>　　我们还需要些什么?(生产计划和采购计划)；</p>
<p>　　MRP的基本原理是:根据需求和预测来测定未来物料供应和生产计划与控制的方法。它提供了物料需求的准确时间和数量。</p>
<p>　　并非所有的不使用订货点方法的物料管理都是属于MRP系统,因为MRP系统并不是仅仅代替订货点方法开订单的库存管理系统,而是一种能提供物料计划及控制库存,决定订货优先度,根据产品的需求自动地推导出构成这些产品的零件与材料的需求量,由产品的交货期展开成零部件的生产进度日程和原材料与外购件的需求日期,即将生产计划转换为物料需求表,并能为能力需求计划提供信息的系统。应用MRP系统必须要决定物料的毛需求量和净需求量,可先将物料的毛需求量转化为净需求量,从而进行毛需求量的净化过程,然后根据净需求量和需求时间预先排定订单,以便事先了解缺料情况。</p>
<p>　　使用MRP系统对于已经具有一定生产能力的工厂来说,可以借助系统掌握在已知生产能力情况下能生产些什么;对于已经具有已定主生产计划的工厂来说,可以借助系统明确应生产些什么。MRP系统不仅给出订单数量,而且特别强调需要的时间,因此,系统的输出可以作为采购,生产等工厂中各项管理的输入,它是各项管理的基础。</p>
<p><strong>物料需求计划的特点</strong></p>
<p>　　When、What、How many几个词代表了物料需求计划MRP的精华所在,意思是什么时间、需要什么和需要多少。它们不仅从数量上解决了缺料问题,更重要的是从时间上来解决缺料问题,因此,物料信息的时间阶段化是MRP的主要特点,划分物料信息时间界面称为时间阶段化。</p>
<p>　　在以往的物料管理中,使用台帐或货卡来登录各种物料信息,物料的情况可以用以下公式来计算: X&#x3D;A+B-C</p>
<p>　　式中:A表示现有库存</p>
<p>　　B表示计划收到</p>
<p>　　C表示需求量</p>
<p>　　X表示可用数量</p>
<p>　　其中计划收到B为已订购数量,需求量C可根据如下情况而定,若是成品可通过客户订单和产品结构的用料消耗计算而得,若是备品备件可通过预测而得。假设现有库存为30,计划收到为50,需求量为65,根据计算可以得到可用数量为15。假设现有库存为30,计划收到为25,需求量为65,根据计算可以得到可用数量为-10。</p>
<p>　　A—现有库存 30或</p>
<p>　　B—计划收到 50或</p>
<p>　　C—需求量 65或</p>
<p>　　X—可用数量 15 -10</p>
<p>　　当可用数量X为正值时,说明此物料不需订货;反之,当可用数量X为负值时,说明此种物料库存量不足,应进行订货。以上方法解决了需要什么物料和需要多少物料的问题,即解决了What和How many,至于什么时间需要,是否一次订货还是分期订货,什么时间到货,何时可能断档,何时订货,物料何时发放等许多围绕着时间而提出的问题,则只能凭管理人员的经验估计和推测。</p>
<p>　　时间阶段化的物料管理与非时间阶段化的物料管理在信息需求,信息处理以及信息存贮方面都有很大的差异。对于同一物料信息,相比之下,时间阶段化物料信息量多,这是由于非时间阶段化只有数量的更新而无时间更新,而时间阶段化有数量更新,还有时间更新,因而信息处理工作量大,而且需要及时,并且采用人工方法处理不能适应要求,只有采用计算机来进行处理。这也就是物料需求计划MRP的实现必然依赖于计算机的道理。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/20/SAP%E5%8F%98%E5%BC%8F%E9%85%8D%E7%BD%AEBOM%E5%AE%9E%E7%8E%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/20/SAP%E5%8F%98%E5%BC%8F%E9%85%8D%E7%BD%AEBOM%E5%AE%9E%E7%8E%B0/" class="post-title-link" itemprop="url">SAP变式配置BOM实现</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-20 15:28:00 / 修改时间：15:34:52" itemprop="dateCreated datePublished" datetime="2022-06-20T15:28:00+08:00">2022-06-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>**业务场景:**一般用于按单生产,且每次的订单BOM都不是固定的,但企业不可能为每一张订单所生产的产品都建立不同的物料编码.最常见的例子是按客户需求组装电脑,客户根据需求选择不同的配置,主板品牌,CPU 型号,硬盘容量等等参数,选择完毕后,组装电脑的 BOM 才确定下来.在 SAP 中,实现该过程是这样的:销售订单下达的时候,会提示该成品的特性,由用户去选择或填入相关特性,系统根据这些特性从一个最全的 BOM(SAP 称为超级 BOM)中做逻辑判断(SAP 称为相关性),配置出符合这个销售订单的 BOM.该业务场景在 SAP 中称为可配置 BOM 的实现。</p>
<p>下面举个例子说明如何实现可配置 BOM.要实现可配置 BOM,首先需要一个可配置物料,什么叫可配置物料,可以理解为最终成品的父亲,关系图如下:</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/mcn2u927lr.png" alt="img"></p>
<p>从上图可看出,可配置物料里含有该产品系列中覆盖到的所有组成的材料,正常的成品物料与可配置物料存在依赖关系,通过设定好的相关性来生成最终的 BOM 结构.可配置物料的 BOM 在 SAP 中称为超级 BOM.下面按照以下步骤实现这个过程:</p>
<p><strong>配置实现:</strong></p>
<p>\1. 建立特性(事务码 CT04)所谓的特性,就是描述该成品的特性.在上图中是建立相关性要用到这个特性,我们通过产品的不同特性来决定最终BOM 的构成. </p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/ctsfbj4e4y.jpeg" alt="img"></p>
<p>我们建立一个关于颜色的特性，类型：字符格式，值分配：单一性项目，意思是只能单选。特性值我们设置2个，分别为红色和黄色。</p>
<p>按照上述，我们依次建立2个特性，分别是Z101(颜色） 特性值Z1:红，Z2:黄；Z103(性别）特性值Z1:男，Z2：女。</p>
<p>2.建立分类（CL02）</p>
<p>在特性界面分配上述特性，即把我们上述建立的特性打包起来，再赋予给可配置物料物料。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/3jkof4dptn.jpeg" alt="img"></p>
<p>3.创建可配置物料（MM01）</p>
<p>物料类型选KMAT可配置物料：</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/li2zt5wnrs.jpeg" alt="img"></p>
<p>项目类别组0002，策略组25</p>
<p>4.创建超级BOM中的其他物料（MM01）</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/rbjbqjt8ic.jpeg" alt="img"></p>
<p>由于原材料需要在半成品中配置出来，所以需要勾选物料时可配置的</p>
<p>5.把分类分配给物料（CL20N）</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/zzaye6aepy.jpeg" alt="img"></p>
<p>6.创建相关性（CU01）</p>
<p>相关性就是建立一个逻辑，让系统自动判断，当用户选择特性或填写特性值，自动匹配出我们所需的物料或物料的用量。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/zucy1yh8qn.jpeg" alt="img"></p>
<p>相关性类型选择(选择条件），点击编辑器，写入代码：Z101&#x3D;’Z1’，意思是当用户选择Z101颜色特性为红色的时候，我们的原材料1被选中，回到前面的前面，记得把状态更改为1下达。</p>
<p>同样的道理，设置其余物料的相关性。</p>
<p>7.创建超级BOM(CS01)</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/wv0wrvr4cv.jpeg" alt="img"></p>
<p>点绿色的箭头，把相关性维护到物料上</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/r7jyp0nfgi.png" alt="img"></p>
<p>建立完毕后，可以看到OD标志（含相关性）被打上勾</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/0qcko7q8l7.jpeg" alt="img"></p>
<p>同样的方式，我们在半成品1中也进行设置</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/8nihjt65jh.jpeg" alt="img"></p>
<p>创建完成后，用CS12展开整个可配置BOM的结构：</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/ziitg7bcq0.jpeg" alt="img"></p>
<p>8.创建物料的可配置参数文件（CU41）</p>
<p>主要是设定可配置物料在执行配置时候的界面参数</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/hdxde7yffa.jpeg" alt="img"></p>
<p>9.检查和测试可配置物料（CU50）</p>
<p>用于测试特性是否生效，成本核算是否正确，成本核算是否出来，前提还需要为相应的成品和半成品建立工艺路线。</p>
<p>点右上角的配置按钮，输入特性值：</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/8kpyvwgcip.jpeg" alt="img"></p>
<p>输入特性值后，点结果按钮显示配置出来的BOM结构：</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/jyld9q8hhp.jpeg" alt="img"></p>
<p>如上图所示，当我们输入颜色特性是Z1红色，性别特性是Z1女，显示的BOM结构是把超级BOM中的原材料2和原材料4，符合我们的相关性设置。</p>
<p>再切换到特性界面，点成本核算按钮，成本核算变式选PPC4销售订单成本核算，传递控制选择PC01带工厂的传输，回车，可以看到产品成本：</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/7jv67r939i.jpeg" alt="img"></p>
<p>10.创建正常的成品物料（MM01）</p>
<p>已有可配置物料，为什么不直接用可配置物料下达销售订单？由于可配置物料的物料类型是KMAT,默认不参与数量价值的更新，不能实现库存管理，所以，需要用一个正常的成品把可配置物料关联起来，MRP3视图中，需要制定关联到哪个可配置物料：</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/sm6t8xnqn3.jpeg" alt="img"></p>
<p>11.执行正常物料与可配置物料的连接（CS40）</p>
<p>指定新建的成品与可配置物料的BOM建立连接</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/y5gohmx6q2.jpeg" alt="img"></p>
<p>勾选保存即可。建立连接后的成品BOM查看只能用CS12查看，不能用CS03</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/4kvhylxsc7.jpeg" alt="img"></p>
<p>我们可以看到CS12展开的BOM,只显示了一个半成品1，那是因为创建该成品的时候，分类特性1个都没有填写。</p>
<p>至此，我们所有基础数据已经准备完成，看看具体的销售订单和MRP的执行。</p>
<p><strong>业务实现：</strong></p>
<ol>
<li>创建销售订单（VA01） 输入正常成品，会提示选择特性：</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/4dw4n53jf4.png" alt="img"></p>
<ol>
<li>执行MRP运算（MD41） 会产生相应的计划订单，产生的计划订单类型是KD个别客户订单</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/tup614zo32.jpeg" alt="img"></p>
<ol>
<li><p>展开订单树 可以看到与特性值对应的物料的计划订单&#x2F;采购申请按需求产生</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/hy0acr1100.jpeg" alt="img"></p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/20/SAP%E5%8F%98%E5%BC%8F%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/20/SAP%E5%8F%98%E5%BC%8F%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">SAP变式配置</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-20 14:33:00 / 修改时间：14:43:47" itemprop="dateCreated datePublished" datetime="2022-06-20T14:33:00+08:00">2022-06-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>1 VC基本概念及应用场景</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-9bd726088c625aff64211aacf1443e56_720w.jpg" alt="img"></p>
<p>VC是Variant Configuration，是依据客户需求做选择配置，完成后通过Super BOM及Super Routing结合相关性找到找到所需要物料及工序，来简化客户操作，减少BOM、物料及工艺路线的维护工作量。</p>
<p>但启用VC会增加BOM的维护复杂度，增加IT部门的工作量。VC的使用非常广泛，例如：电子消费品行业，家居行业(沙发)，凡是定制化生产的企业均可以尝试考虑一下VC是否能给企业带来便利。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-a500d9b6457cef02b54e1bf53446e7c0_720w.jpg" alt="img"></p>
<p>如图是联想针对ThinkPad定制化销售的WEB界面，界面上可以对“操作系统”、“显示屏”、“显卡”、“内存”等进行选配，但这不是SAP系统的标准的选配界面，但SAP可以向前和向后做扩展兼容，如：WEB，手机APP，SAP-Fiori等都可以用运用到可配置VC，同时</p>
<p>VC功能不仅仅是运用在ERP上，在其他的系统也能通用，如：PLM, CRM, MES。</p>
<p><strong>2 特性</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-cde6df12d3ed219b21eaaf7e0b0bf3fd_720w.jpg" alt="img"></p>
<p><strong>特性：</strong>可以理解为是一种属性。</p>
<p>举个例子，比如说人，有性别，年龄，民族等等这些区分，那么这些我们称为“特性”，特性里面会有“值”，比如民族有“汉族”，“蒙古族”，这些我们成为特性值，特性与特性值之间是一种从属关系，我们也可以定义这些特性它允许什么样的值存在，是什么类型的，数值型，货币型，日期型还是字段型，同时特性可以定义只允许被哪些类使用。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-01733add65bae6023090e03fe8e2a1ba_720w.jpg" alt="img"></p>
<p>上图展示的是SAP标准中哪些表允许被修改，即依据特性值的内容更新表里面的字段，例如：你想通过这个特性值来影响BOM里的数量，就需要用到“参照”表STOP。</p>
<p><strong>特性的价格应用</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-ddcba1356e1a60ec29b809485aa65e24_720w.jpg" alt="img"></p>
<p>例，如何用一个特性去影响销售价，有4个步骤：</p>
<ul>
<li>首先建立一个特征；</li>
<li>为条件类型“VA01”或“VA00”创建条件记录，需求维护变式值，指定某个变式对应单价；</li>
<li>将条件类型增加到SD的价格控制过程内；</li>
<li>分配条件记录给特性值，或者写程式相关性通过计算及选择之后使其能够等同于价格条件里面的变式，当两者匹配之后就能够带出价格出来。</li>
</ul>
<p>完成以上步骤之后，就可以达到效果：当用户选择了某个配置之后或某个特性之后，系统自动将价格计算出来。</p>
<p><strong>特性影响BOM数量</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-47fc798eb684c703181d97ac091c862d_720w.jpg" alt="img"></p>
<p>如上是表述如何通过特性影响BOM的数量，业务场景：如依据客户的选择来决定你要用某个材料用几个，比如我们的内存，规格是8G的，但客户选择的是16G,这样自然我们的内存是8G*2，在这个情况下我们需要去创建一个特性，然后用这个特性去更改我们的BOM值。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-bab2110e12201cdea3b9c974688e629c_720w.jpg" alt="img"></p>
<p>之前所列是允许被更改的表结构清单，上面列出的是仅能被读取的。主要是我们的销售的一些表，或物料的一些表，这些就不要希望能用特性去修改里面的数据。</p>
<p><strong>3 分类</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-988511e3a33747b997f9999c7fe603af_720w.jpg" alt="img"></p>
<p>SAP的分类有很多的类型，有针对物料、工作中心、供应商、客户的、批次的分类。每种分类的类型对应的系统后台表结构。故类类型决定了分类能被运用到哪个具体的对象，当然SAP标准存在的分类类型基本上可以满足正常的使用需求，用户无须自已新增类型。</p>
<p>在使用的过程中，常见的分类有001，或者200，300,或者023等，另外组织范围，可以决定特性是不是在这个“组织范围”内被显示出来。</p>
<p>分类可以理解为特性的集合，举个例子，电脑类是由什么特性组的，是由CPU，硬盘等特性组成的。 或者人这个类，是由民族，性别等特性组成的。那具体的对象，比如我这个人，那就是一个具体的实物对象，我们把这个叫做类的实例化。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-681631fc346f5e05981ddfba61bac9db_720w.jpg" alt="img"></p>
<p>分类类型300，是VC的主要类类型，还有一个类节点200，也是VC分类类型。他们的目的都是一样，即通过Super Bom,依据客户的需求去精确的找到所需要的组件。</p>
<p>那300和200有什么区别是，一般我们认为300是用在成品类型的。200运用于BOM里项目类别为K的分类。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-a4859c752f353ba001a455b13933f844_720w.jpg" alt="img"></p>
<p>例子，有个销售需求，颜色是一个科选择特性，在BOM里面会维护一个类节点为K的分类，它会依据客户的选择之后会自动找到颜色所对应的一个物料。</p>
<p>完成整套系统的配置，需要我们先创建一个300的成品分类。再创建一个200的分类，这个200的分类必须包含300里面的颜色的特性。完成后再把200的分类分配给对应的材料。这样做的好处：假设我们的颜色它有3种或4种5种，那么我们在BOM里面并不需要指定具体的物料号，而仅仅只需维护一行K类型的类节点。那通过销售订单的一个选择后系统会自动选择它所需要的材料，这种做法和我们传统的Super BOM不太一样。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-33c69bb92077751d8de28cbd134e040c_720w.jpg" alt="img"></p>
<p><strong>总结：分类、特性、特性值</strong></p>
<ul>
<li>首先维护特性、特性值， 事务码： CT04；</li>
<li>维护分类，将分类所需特性分配给类，事务码：CL02；</li>
<li>将分类分配给具体的对象，一般为物料号。该物料的物料类型与常规物料类型不一样的，常规物料类型有成品，半成品，原材料等，此物料类型为可配置的物料类型；</li>
<li>分配完后不会为物料指定对应的特征值，但可以指定（选择）物料的<strong>特征值</strong>能显示哪些，也就是说通过这个设置，可以完成不同的物料虽然分配是同一类，同一特性，但它允许客户选择的值可以不一样。 当然我们可以通过CU20，CU30去通过特性值查找哪一些物料有用到， 但如果查库存的话有些麻烦，这个后面会讲变式物料时提到。</li>
</ul>
<p><strong>4 相关性</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-6a11367b6229e55a7104a4482b3a99aa_720w.jpg" alt="img"></p>
<p>相关性有4种类型，前提条件、选择条件、处理程序、约束。</p>
<ul>
<li><strong>相关性的目的：</strong>将分类或者特性，或特性值，跟BOM，Routing 做关联，使其 能过用户的选择之后，通过“相关性”来影响最终的值 和BOM项目</li>
<li><strong>前提条件：</strong>指选择了某个值或者特性后才能出现。比如我选择了某个配件之后，另外的一个品牌才可以出现。再举个例了，选择了“市”之后，才能出现“省”，这样的一个前提条件。</li>
<li><strong>选择条件：</strong>必须被选择, 当符合某种条件下，必须被选择。</li>
<li><strong>处理程序：</strong>主要是写一段配置或代码。 讲变式表以及功能时上会用到。</li>
<li><strong>约束：</strong>是判断多个对象配置的组合是不是合理的。比如说我们选不同的操作系统有Windows ,Linux的，那你在选Linux的时候，在选装软件时不能选微软Office；</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-07cca9881ea28f651a71d1318339693f_720w.jpg" alt="img"></p>
<p>相关性的类型很多，它可以被运用于哪些对象是有规则的，如上图： 红色字母部分代表相关性的类型能被应用在什么对象上面。 从图上我们可以看到能被分配的对象有特征，特性值，类，配置参数文件，BOM，Routing等。</p>
<p><strong>5 启用VC系统的前置因素-Super BOM</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-9313882e48ada51610162938935d2c94_720w.jpg" alt="img"></p>
<p>首先我们需要一个Super BOM,会几乎穷举所有可能的组合，会把所有的东西放到这个里面。比如我们的CPU，CPU有这个1.2GHz，1.8 GHz，2.4 GHz的多种类型的，硬盘有1T，2T，3T等，那我们会把这些都放进去，组成一个超级BOM。 那当然这个BOM是不能被直接运用的。 维护完成后，需要维护相关性，针对每种不同的值去指定它的相关性的规则。</p>
<p>相关性方面有两个类型：本地相关性、全局相关性。 建议大家使用全局相关性，因为本地相关性只是对这个BOM生效，如果要运用到其他BOM里面去就会非常不方便或不被允许。在相关性的命名规则一定要注意，相关性的命名规则一定要有可辨识性，避免维护完后不知如何进行选择，导致后期工作量相当巨大。</p>
<p><strong>6 启用VC系统的前置因素-配置参数文件</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-c3aef99cc899917f82ca985f3d32cae9_720w.jpg" alt="img"></p>
<p>创建配置参数文件之前，要求我们的物料类型是可配置的一个类型，要求MRP3视图，或者基本视图2里面，要把可配置给标识上，当然有一点我们需要注意，就是我们的“生产类型”，因选配是按订单式生产的，不是库存式生产的。需要设置MRP的策略为25。</p>
<p>创建配置参数文件的 事务码是：CU41 ， 如果是按计划订单或生产订单无展开BOM的时候，我们只需要输入物料去保存即可。完成以上的设置之后，那我们就可以在SAP里面创建对应的销售订单，系统会提示进行特性选择。</p>
<p><strong>7 变量表</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-2d59b792444a4f577155485ed08988c6_720w.jpg" alt="img"></p>
<p>变量表是一个特征的组合，我们前面讲过约束，这个跟约束有点类似，我们会把特征值做在一个表里面，维护完之后我们会赋予他这个值，那我们用户在选择的时候，他只是能够选择这个表里面存在的内容。如果不在这个表里面，就是不符合规则。 维护表内容用CU60 ，CU61创建表结构大家看下面这个图 ， 右上角是维护好值的表。 下面红色部分是语法，然后会指定它的几个参数，一般会有几个输入和一个输出。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-853fa2d0bf9f68cdce1257aec002f04f_720w.jpg" alt="img"></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-4f360f076d83333cf80c24a469a95b73_720w.jpg" alt="img"></p>
<p>函数的应用，主要目的：依据某几个特性值来算出（ABAP）另外一个值，然后回写到这个界面里面。这个函数是通过CU65来创建，创建完后会出现激活按钮进行编辑ABAP程序，程序包含输入和输出特性，使用的语法和SE37里面是一样的。这种场景应用于比较复杂的运算，通过好几个值得到第3个值。 在特征的使用上，有些特征仅能被显示，一般是被运算出来的值。</p>
<p><strong>8 计划订单&#x2F;生产订单-无BOM展开</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-e745a75b6c256aeee931aba737350cfb_720w.jpg" alt="img"></p>
<p>在“配置参数文件”中，有三种选项：</p>
<ul>
<li>计划订单或生产订单</li>
<li>销售订单集合</li>
<li>订单BOM</li>
</ul>
<p>对应的展开的类型有：不展开，单层展开，多层展开 这些选择。 相互之间的搭配关系比较复杂的，从图上可以看到，就是我们的客户来了一个单后，它会做一个值的分配，所有的值的分配都是源自销售订单， 源自第一层。成品，半成品均可配置项，也就是多层可配置的情况。在这种情况下如果我们选择的是无BOM展开，那就意味着值分配是单一层的。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-de9e5afed6c08c48477ceba8935540a2_720w.jpg" alt="img"></p>
<p>从图上可以看到，我们的配置参数是在最上层的，那我们的半成品层其实是没有维护它的配置参数文件的。但是它的值的分配依然是生效的。它会从最上层继承下来。</p>
<p>如果最上层没有指定连接器，而半成品层也是可配置的，如选择的是不展开BOM的方式，那也就是意味着你的原材料在连接器这一块是不可以被选择到的。所以针对这种情况下，我们要求我们的成品的分类一定要包含半成品分类的特性。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-c37c2d53b12a518f136c956945ff5d36_720w.jpg" alt="img"></p>
<p><strong>9 计划订单&#x2F;生产订单-BOM展开</strong></p>
<p><img src="https://pic3.zhimg.com/80/v2-a4c86bcb6ce3d638c150cfaae3705d0e_720w.jpg" alt="img"></p>
<p>如有BOM展开，在这种情况下允许你的成品和半成品它的分类没有包含关系。而你的成品和半成品都可以选配。在做订单的时候会跳出两个产品的特性进行选配，即多层选配。</p>
<p><strong>10 销售订单配置</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-51e06d7981f9073b1957bb53d11d8f6a_720w.jpg" alt="img"></p>
<p>产品会一些配件或辅件，它是可以通过选择来进行配置的。这些辅件可能是不需要通过生产的，但需要通过用户的选择来加入，那这样我们的销售订单它在开始是一个行项目，但我们在选择完成后，它会把我们所选择的配置，所相关的组件给带出来，这就形成了一个销售集合。销售集合要求我们在维护这个BOM的时候就不能只是维护生产类型的BOM，那也要要维护我们5类型的BOM，也就是销售类型BOM。这里指的BOM类型有：生产BOM，销售BOM，研发BOM，成本BOM等等，这里讲的是销售BOM类型。 同样我们需要在这个销售BOM下面维护这个组件对应的“相关性”，以及与特性的关系。</p>
<p>另外一个是订单BOM， 它会把选配的结果保存为订单BOM，我们正常维护BOM是CS01，CS02. 而订单BOM是CS61，CS62.也就是我们通过这个选配完成后，它会在系统里面去自动产生一个订单BOM。</p>
<p><strong>11 物料变式</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-96f826c632f7be691f7339851d30b3ef_720w.jpg" alt="img"></p>
<p>可配置物料的目的是为了节约我们的物料编码，减少BOM的维护的工作量。</p>
<p>但是有一个部门不喜欢这个作业方式，比如我们的仓库。因为减少了物料的编码，那么仓库的管理难度会增加，因同样一个物料号，实际对应的配置，参数是不一样的。也就是在统计库存时候，这时用物料号去统计是没有任何意义的。如果有一天领导问你，某一种颜色的机器或者某一种配置的机器在仓库里有多少台？你很难去回答这个问题。所以就出现了这个“物料变式”。它的好处就是会将我们的成品进行实例化，那我们刚才讲，我们的配置物料在分配之后分类之后我们是不会给他赋予值。而物料变式它除了分配分类以后，它还会具体将对应的值输入进去，也就是我已经明确了这个物料号它代表的是哪一种配置参数。</p>
<p>同时我也会在物料主数据里把这个物料所对应的这个可配置物料进行指定，就是做一个对应关系，那这样的好处就是我们可以在物料管理上进行严格区分，同时我们在BOM的时候也可以参照销售BOM进行生产，也就是减少了BOM的工作量，但是也没有给库存管理带来很大的问题。</p>
<p><strong>12 SAP VC学习路径</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-02beafa0236263c04bdb93fe3aa4f473_720w.jpg" alt="img"></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/v2-53a7953ce940b0ebe78437dbbf480486_720w.jpg" alt="img"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/17/%E4%BC%9A%E8%AE%A1%E5%87%AD%E8%AF%81%E7%90%86%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/17/%E4%BC%9A%E8%AE%A1%E5%87%AD%E8%AF%81%E7%90%86%E8%A7%A3/" class="post-title-link" itemprop="url">会计凭证理解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-17 08:10:00" itemprop="dateCreated datePublished" datetime="2022-06-17T08:10:00+08:00">2022-06-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-27 18:21:34" itemprop="dateModified" datetime="2022-10-27T18:21:34+08:00">2022-10-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%B4%A2%E5%8A%A1/" itemprop="url" rel="index"><span itemprop="name">财务</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1、会计凭证分类"><a href="#1、会计凭证分类" class="headerlink" title="1、会计凭证分类"></a>1、会计凭证分类</h2><p>会计凭证主要按照其用途和填制程序分类，可以分为原始凭证和记账凭证两类。</p>
<p>区别：</p>
<p>（一）原始凭证：俗称单据，实在静静业务发生或完成时取得或填制的，用以记录、证明经济业务已经发生或完成的书面证据，时进行会计核算的原始依据。</p>
<p>原始凭证一般实在经济业务发生时直接取得或填制的，记载着大量的经济信息，又是证明经济业务发生的初始文件，具有较强的法律效力，所以它时一种很重要的凭证。</p>
<p>原始凭证按照其来源不同，可分为外来原始凭证和自制原始凭证。</p>
<p>（二）记账凭证：俗称传票，时会计人员根据审核后的原始凭证的经济内容确定会计分录而编制的一种凭证，时直接登账的依据。原始凭证来自各个不同的方面，表明经济业务的具体内容，因而其种类繁多，格式不易，不能清楚地表明其归类的会计科目和记账方向，不经过必要的归纳和整理，难以达到记账的要求。</p>
<p>记账凭证按照其反应的经济业务的内容不同，可以分为<strong>收款凭证、付款凭证和转账凭证</strong>。</p>
<ol>
<li>收款凭证</li>
</ol>
<p>收款凭证时用以记录现金、银行存款收入业务的记账凭证。</p>
<p>具体可以分为<strong>现金收款凭证</strong>、银行存款收款凭证。实际工作中，一般时由出纳人员根据有关人员审批批准后的收款收据编制而成的。</p>
<ol start="2">
<li>付款凭证</li>
</ol>
<p>付款凭证时用以记录现金、银行存款支付业务的记账凭证，具体可以分为<strong>现金付款凭证、银行存款付款凭证</strong>，实际工作中，它是由出纳人员根据有关人员审核批准的付款单据编制而成。</p>
<ol start="3">
<li>转账凭证</li>
</ol>
<p>转账凭证时用以记录不涉及现金、银行存在首付的其他经济业务，即转账业务，它是根据有关转账业务的原始凭证编制而成的。</p>
<h2 id="2、会计记账凭证对应科目"><a href="#2、会计记账凭证对应科目" class="headerlink" title="2、会计记账凭证对应科目"></a>2、会计记账凭证对应科目</h2><p>会计科目时按照经济业务的内容和经济管理的要求，对会计要素的具体内容进行分类核算的科目，称为会计科目。</p>
<h4 id="会计记账凭证对应科目"><a href="#会计记账凭证对应科目" class="headerlink" title="会计记账凭证对应科目"></a>会计记账凭证对应科目</h4><p>记账凭证的基本功时根据借贷记账法的记账规则，编制会计分录。</p>
<p>编制会计分录时，必须填写会计科目，要符合如下要求：</p>
<p>1、字迹必须清晰、工整。</p>
<p>2、一级科目、二级科目或明细科目填写齐全，对应关系清楚，金额正确无误</p>
<p>3、书写时，文字不要占满格，一般占格高度1&#x2F;2，上面留空格，便于更正差错。</p>
<p>4、必须使用统一会计制度规定的会计科目，不得自创，以保证核算口径一致。</p>
<h4 id="会计记账凭证科目的详细"><a href="#会计记账凭证科目的详细" class="headerlink" title="会计记账凭证科目的详细"></a>会计记账凭证科目的详细</h4><p>会计科目只不过时一个企业经营资料的统计分类而已，所以如果懂得会计科目的性质及结构系统，每一个管理员不但能看懂财务报表，还能设计会计科目，使会计资料成为很好的管理信息。</p>
<p>会计科目时会计人员做记录的基础，在结构上共分五大类：即（1）资产（2）负债（3）资本（4）收益（5）费用（成本）</p>
<p>一、资产：指企业所拥有的一切有价资源，其中又可分为流动资产、固定资产、其它资产等三小类。流动资产指现金及企业希望变成现金的资产。例如银行存款、应收账款、存货等。固定资产是指企业不希望出售，而是长期使用的资产，如土地、房屋、机器等。其它资产指无形资产、未分摊费用、保证金等。</p>
<p>二、负债：指企业的债务，其中又可分为流动负债、长期负债和其他负债。流动负债是指一年以下负债，长期负债是指一年以上的负债，而其他负债是指斐财务行目标的所发生的负债，如存入保证金、代收款及各项损失准备等。</p>
<p>三、资本：又名股东权益，是企业中属于股东的部分，所以等于资产与负债之差。资本可分股本及盈余两类，股本是股东所投资的部分，盈余是企业所赚的部分。</p>
<p>四、收益：是指企业的出售产品或提供服务所发生的收入，可分营业收入及营业外收入两小类，营业收入是企业预定营业范围内的收入，而营业外收入是指预定营业范围外的收入，如非金融业的利息收入等。</p>
<p>五、费用：是指因收益而发生的支出，其中又分四小类：直接成本、销售费用、管理费用、营业外费用。</p>
<p>直接成本：是该项支出可直接归属于某项营业收入者，如销货成本、材料成本等。</p>
<p>销售费用：是指为达成营业的目的而发生的支出，但无法直接归属于某项营业收入者。</p>
<p>管理费用：是指维持企业运作所必须支付的费用，如管理人员薪酬、租金支出等。</p>
<p>营业外费用：是指财务费用及投资损失等非属达成营业收入而必要的支出。</p>
<h4 id="会计分录的一些理解"><a href="#会计分录的一些理解" class="headerlink" title="会计分录的一些理解"></a>会计分录的一些理解</h4><p>会计恒等式，资产 &#x3D; 负债 + 所有者权益。</p>
<p>经过一年的经营（不考虑分红），资产 &#x3D; 负债 + 所有者权益 + 利润。</p>
<p>利润 &#x3D; 收入 - 成本 - 费用。可以推导出：</p>
<p>资产 &#x3D; 负债 + 所有者权益 + 收入 - 成本 - 费用</p>
<p>整理得：</p>
<p>资产 + 成本 + 费用 &#x3D; 负债 + 所有者权益 + 收入</p>
<p>该等式左边科目，借方额 &#x3D; 增加，贷方额 &#x3D; 减少；（借增贷减）</p>
<p>该等式右边科目，借方额 &#x3D; 减少，贷方额 &#x3D; 增加；（借减贷增）</p>
<p>拿到具体业务，先分析影响的相关会计科目，这些科目是分别属于等式的左侧还是右侧，然后考虑该科目的余额（或发生额）会增加还是减少，然后按照公式去判断这个科目增加时，时使用借还是贷。</p>
<hr>
<ol>
<li>举例：老板出差去美国，买机票2张，银行转账支付。</li>
</ol>
<p>影响科目：管理费用（费用，等式左边，借增贷减），银行存款（资产，等式左边，借增贷减）。</p>
<p>影响方式：管理费用增加 &#x3D;&#x3D;&gt; 借方，银行存款减少 &#x3D;&#x3D;&gt; 贷方。</p>
<p>会计分录：借：管理费用；贷：银行存款</p>
<ol start="2">
<li>再举例：老板在美国出差期间，取得美国VC的股权投资额，银行转账入账。</li>
</ol>
<p>影响科目：银行存款（资产，等式左边，借增贷减），实收资本（所有者权益，等式右边，借减贷增）</p>
<p>影响方式：银行存款增加 &#x3D;&#x3D;&gt; 借方，实收资本增加 &#x3D;&#x3D;&gt; 贷方。</p>
<p>会计分录：借：银行存款；贷：实收资本</p>
<ol start="3">
<li>再再举例：电费先是归集到制造费用，然后再分摊到每一个机台的生产成本中。</li>
</ol>
<p>会计分录：<br>电费录入：制造费用-电费（费用，等式左边，借增贷减）；供应商-预付账款（资产，等式左边，借增贷减）</p>
<p>制造费用-电费增加 &#x3D;&#x3D;&gt; 借方，供应商-预付账款减少 &#x3D;&#x3D;&gt; 贷方</p>
<p>会计分录：借：电费增加，贷：预付账款</p>
<p>付款过账：供应商-预付账款（资产，等式左边，借增贷减）；银行存款（资产，等式左边，借增贷减）</p>
<p>供应商-预付账款增加 &#x3D;&#x3D;&gt; 借方，银行存款减少 &#x3D;&#x3D;&gt; 贷方</p>
<p>会计分录：借：预付账款，贷：银行存款。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">一骗树</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">51</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">一骗树</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
