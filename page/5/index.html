<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="打螺丝闲暇的记录">
<meta property="og:url" content="http://example.com/page/5/index.html">
<meta property="og:site_name" content="打螺丝闲暇的记录">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="一骗树">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>打螺丝闲暇的记录</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">打螺丝闲暇的记录</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-links">

    <a href="/links/" rel="section"><i class="fa fa-sitemap fa-fw"></i>Links</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/16/%E8%AE%B0%E8%87%B4%E8%BF%9COA%E5%A0%B5%E5%A1%9E%E9%81%87%E5%9D%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/16/%E8%AE%B0%E8%87%B4%E8%BF%9COA%E5%A0%B5%E5%A1%9E%E9%81%87%E5%9D%91/" class="post-title-link" itemprop="url">记致远OA线程堵塞遇坑</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-16 18:59:02 / 修改时间：19:16:01" itemprop="dateCreated datePublished" datetime="2022-06-16T18:59:02+08:00">2022-06-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%87%B4%E8%BF%9COA/" itemprop="url" rel="index"><span itemprop="name">致远OA</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题背景"><a href="#问题背景" class="headerlink" title="问题背景"></a>问题背景</h2><p>在2022年6月15号下午左右，致远OA开始出现点击提交到下一个节点后，下一个节点无法接收待办的情况；同时出现无法正常回写底表问题；同时在OA回传SAP状态，回写SAP数据等情况都不会触发DEE任务。</p>
<h2 id="问题查找"><a href="#问题查找" class="headerlink" title="问题查找"></a>问题查找</h2><p>1、在6月15号下午，以为是数据库内存占用过大的问题，通过查询发现数据库内存占用超过90%，在重启数据库并新增内存资源后，数据库使用占比降低。但是在重启后问题依然存在。这个时候只能手工推送SAP单据</p>
<p>2、6月16号上午，反馈致远研发，研发在看log日志后判断是迈锐思插件（费控）问题，然后找迈锐思客服打上了补丁，但是打完补丁重启OA服务器以后，该问题依然存在。</p>
<p>3、继续反馈致远研发查找问题，发现是在节点跳转的时候有问题，导致所有合并节点的操作都挂掉了，导致了无法接受待办问题。</p>
<p>4、然后继续查，发现其实是环境问题，由于线程堵塞导致所有的操作均会卡掉，具体的原因如下：</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/image-20220616191133868.png" alt="image-20220616191133868"></p>
<p>通过这个界面，可以看出来，由于这个插件导致一直未响应堵塞，导致堆栈无法释放。</p>
<p>5、找到真正原因后，把这个自开发插件停用掉，重启服务，恢复。</p>
<h2 id="问题记录"><a href="#问题记录" class="headerlink" title="问题记录"></a>问题记录</h2><p>1、以后再遇到这种问题，首先要先去system中查看系统监控</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/image-20220616191402865.png" alt="image-20220616191402865"></p>
<p>2、如果监控有问题，具体的排错是在</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/image-20220616191502501.png" alt="image-20220616191502501"></p>
<p>点进去，就能看到所有的堵塞的线程情况，进一步进行排错。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/15/%E8%87%B4%E8%BF%9COA%E6%9F%A5%E8%AF%A2%E8%AF%B7%E6%B1%82REST/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/15/%E8%87%B4%E8%BF%9COA%E6%9F%A5%E8%AF%A2%E8%AF%B7%E6%B1%82REST/" class="post-title-link" itemprop="url">致远OA查询请求REST</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-15 11:47:22 / 修改时间：11:55:16" itemprop="dateCreated datePublished" datetime="2022-06-15T11:47:22+08:00">2022-06-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%87%B4%E8%BF%9COA/" itemprop="url" rel="index"><span itemprop="name">致远OA</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题背景："><a href="#问题背景：" class="headerlink" title="问题背景："></a>问题背景：</h2><p>致远OA请求rest接口查询数据，需要对查询的数据进行组装。</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>根据致远document的需求，按需组装，<strong>尤其是要记住表的标签要加count和totalCount。</strong></p>
<h2 id="具体代码"><a href="#具体代码" class="headerlink" title="具体代码"></a>具体代码</h2><ol>
<li>请求rest</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/image-20220615115114147.png" alt="image-20220615115114147"></p>
<ol start="2">
<li>获取token</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/image-20220615115155617.png" alt="image-20220615115155617"></p>
<ol start="3">
<li>根据rest请求</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/image-20220615115246703.png" alt="image-20220615115246703"></p>
<ol start="4">
<li>塞data</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">import com.alibaba.fastjson.JSONObject;</span><br><span class="line">import com.alibaba.fastjson.JSON;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import static net.sf.json.JSONSerializer.toJSON;</span><br><span class="line">import net.sf.json.JSON;</span><br><span class="line">import net.sf.json.xml.XMLSerializer;</span><br><span class="line"></span><br><span class="line">Object aaa = getRestResult(document);</span><br><span class="line">//解析json拿到data</span><br><span class="line">com.alibaba.fastjson.JSONObject jsonObject = com.alibaba.fastjson.JSON.parseObject(aaa);</span><br><span class="line">//debug(&quot;12&quot;,&quot;alibaba&quot;,jsonObject);</span><br><span class="line">String data = jsonObject.getString(&quot;data&quot;);</span><br><span class="line"></span><br><span class="line">//在data外层拼接一层intab</span><br><span class="line">String data1 = &quot;&#123; &quot;+&quot;\&quot;&quot;+&quot;ET_DATAA&quot;+ &quot;\&quot;&quot; +&quot;:&quot; + data + &quot;&#125;&quot;;</span><br><span class="line">//把取到的值都塞到data</span><br><span class="line"></span><br><span class="line">setParam(document, &quot;data&quot;, data1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//aaa</span><br><span class="line">Object dataa = document.getContext().getParameters().getValue(&quot;data&quot;);</span><br><span class="line">//Object dataa = getParaByName(document,&quot;data&quot;);</span><br><span class="line"></span><br><span class="line">net.sf.json.JSON json = toJSON(dataa);</span><br><span class="line"></span><br><span class="line">XMLSerializer serializer = new XMLSerializer();</span><br><span class="line"></span><br><span class="line">serializer.setTypeHintsEnabled(false);</span><br><span class="line">serializer.setObjectName(&quot;root&quot;);</span><br><span class="line">serializer.setElementName(&quot;row&quot;);</span><br><span class="line"></span><br><span class="line">String xml = serializer.write(json);</span><br><span class="line"></span><br><span class="line">createDocByXml(xml);</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>拼接count和totalcount</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Element root = getRootElement(document);</span><br><span class="line">Element t = getChildByName(root, &quot;ET_DATAA&quot;);</span><br><span class="line">List&lt;Element&gt; chds = getAllChildOfElement(t); //获取et_dataa节点的子节点</span><br><span class="line">t.setAttribute(&quot;count&quot;, chds.size());</span><br><span class="line">t.setAttribute(&quot;totalCount&quot;, chds.size());</span><br><span class="line">//debug(&quot;3&quot;,&quot;aaa&quot;,t);</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/08/SAP%E7%BB%9F%E9%A9%AD%E7%A7%91%E7%9B%AE%E7%90%86%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/08/SAP%E7%BB%9F%E9%A9%AD%E7%A7%91%E7%9B%AE%E7%90%86%E8%A7%A3/" class="post-title-link" itemprop="url">SAP统驭科目理解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-08 14:12:00 / 修改时间：14:33:55" itemprop="dateCreated datePublished" datetime="2022-06-08T14:12:00+08:00">2022-06-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="1、定义"><a href="#1、定义" class="headerlink" title="1、定义"></a>1、定义</h3><p>首先统驭科目就是特别总账科目，只是用在SAP应收、应付业务中，起了个名称为特别总账，主要用于解决与一个客户、供应商发生不同业务，需要记账再不同的会计科目上。</p>
<p>可以说：统驭科目是一座桥，链接着总账和明细账，它是一个需要和明细账核对的总账科目，与明细账平行，但是不能单独记账。常常用于客户（D）、供应商（K）、资产类科目（A）记账。</p>
<p>再次理解：统驭科目（reconciliation account）指的就是将明细科目归集起来的意思，统驭科目类型分三类：供应商类别（K）、客户类别（D）、固定资产类别（A），主要针对应收账款、应付账款、固定资产等模块过入的金额，他们的交易时不通过总账模块进行的，但再各自模块完成的同时，会将相应的金额过入总账。</p>
<p>举例：公司向供应商（中百超市）采购3千元的商品，正常的财务记账方式如下：</p>
<p><strong>借：办公费用3千元          贷：应付账款3千元</strong></p>
<p>但采购人员不会像财务人员那样记账。通常将业务理解为支付中百超市3千元用于采购办公用品一批。</p>
<p>在实际的SAP系统中，采购收货后产生物料凭证（并关联产生会计凭证），系统就会自动在财务这边生成一笔凭证（财务并没有手工记账），之所以自动生成，时因为科目“应收账款”设为了供应商“中百超市”的统驭科目。当然，实际运作中由于收货和发票并不同步，所以会有中间科目过渡。但在理解时可以将中间记账科目简化，假设时同步完成。直接产生借费用，贷应付。费用科目可以在采购订单中手工指定。而应付科目就是通过供应商统驭科目的方式实现的。<strong>设为统驭科目的会计科目就不能在手工记账了，只能通过其他的模块（如：AR（应收账款）&#x2F;AP（应付账款）&#x2F;SD&#x2F;MM）自动记账</strong>。</p>
<p>设置一个统驭科目的步骤：</p>
<p>1、新建一个科目FSS0（如：应收账款或应付账款）并指定它的“统驭科目类型”为“客户&#x2F;供应商&#x2F;资产”</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/image-20220608143011488.png" alt="image-20220608143011488"></p>
<p>2、在创建客户活供应商主数据时，在其“统驭科目”（公司代码标签下）选择刚才新建的那个会计科目，这样，以后对这个客户或供应商进行记账的话，从AR&#x2F;AP&#x2F;SD&#x2F;MM那边记“***供应商”的同时，也会自动在GL中记一笔，并记在“应收账款活应付账款”上。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/07/SAP%E4%BC%9A%E8%AE%A1%E5%87%AD%E8%AF%81%E7%B1%BB%E5%9E%8B%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/07/SAP%E4%BC%9A%E8%AE%A1%E5%87%AD%E8%AF%81%E7%B1%BB%E5%9E%8B%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">SAP会计凭证类型总结</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-07 08:10:00 / 修改时间：08:39:23" itemprop="dateCreated datePublished" datetime="2022-06-07T08:10:00+08:00">2022-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1、SAP凭证类型作用"><a href="#1、SAP凭证类型作用" class="headerlink" title="1、SAP凭证类型作用"></a>1、SAP凭证类型作用</h2><p>传统的财务的系统凭证类型如收付转三类凭证类型，而SAP的凭证类型是用来区分业务的。</p>
<ul>
<li>凭证类型决定记账编号范围，常见的Tcode中FBN1维护编号范围，OBH1+OBH2复制编号范围</li>
<li>凭证类型决定了过账的会计科目的账户类型（S、A、D、K、M）</li>
<li>凭证类型决定了记账的默认汇率，默认的是M类型的汇率类型。</li>
<li>凭证类型决定了凭证抬头的参考号码+凭证抬头文本是否必输。</li>
<li>凭证类型决定允许负数记账、贸易伙伴必输、公司间过账等参数。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116204059594.png" alt="在这里插入图片描述"></p>
<h2 id="2、SAP常见凭证类型"><a href="#2、SAP常见凭证类型" class="headerlink" title="2、SAP常见凭证类型"></a>2、SAP常见凭证类型</h2><p>如上所述，SAP的凭证类型是用来区分业务，一般项目采用SAP默认的凭证类型清单即可满足业务需求。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116204149149.png" alt="在这里插入图片描述"></p>
<h2 id="3、OBU1：FI相应事务代码默认凭证类型"><a href="#3、OBU1：FI相应事务代码默认凭证类型" class="headerlink" title="3、OBU1：FI相应事务代码默认凭证类型"></a>3、OBU1：FI相应事务代码默认凭证类型</h2><p>通过OBU1可更改大部分FI事务代码的默认凭证类型，但是FB50&#x2F;FB60&#x2F;FB70这几个事务代码的凭证类型是不能直接更改的</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116204235953.png" alt="img"></p>
<h2 id="4、OBZO：更改感兴趣业务的凭证类型"><a href="#4、OBZO：更改感兴趣业务的凭证类型" class="headerlink" title="4、OBZO：更改感兴趣业务的凭证类型"></a>4、OBZO：更改感兴趣业务的凭证类型</h2><p>通过OBZO即可实现对FB50、60、70默认凭证类型的更改</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116204259797.png" alt="在这里插入图片描述"></p>
<ul>
<li>第一步：FB50&#x2F;FB60&#x2F;FB70这些默认的凭证不允许修改，但可通过设置OBZO就可以修改了，可能需要打NOTES-323113，也可以通过用户参数BAR默认FB50的凭证类型</li>
<li>你第二步：实施Notes-339765<br>优先级问题</li>
</ul>
<p>OBZO维护的默认凭证类型<br>用户参数BAR维护的凭证类型<br>程序写死的SA、KR、DR</p>
<h2 id="5、OMBA：后勤货物移动默认凭证类型"><a href="#5、OMBA：后勤货物移动默认凭证类型" class="headerlink" title="5、OMBA：后勤货物移动默认凭证类型"></a>5、OMBA：后勤货物移动默认凭证类型</h2><p>OMJJ对各种移动类型默认可使用的事务，然后通过OMBA对事务进行默认凭证类型。我们来举个栗子来，比如WI盘点凭证，你们看看各自的SAP系统是WI还是WA凭证类型，取决于你的盘点流程是采用标准的MI07还是借用701&#x2F;702通过MIGO_GI来处理。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116204352139.png" alt="在这里插入图片描述"></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116204407986.png" alt="在这里插入图片描述"></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116204423577.png" alt="在这里插入图片描述"></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116204437214.png" alt="在这里插入图片描述"></p>
<h2 id="6、OMR4：发票默认的凭证类型"><a href="#6、OMR4：发票默认的凭证类型" class="headerlink" title="6、OMR4：发票默认的凭证类型"></a>6、OMR4：发票默认的凭证类型</h2><p>CKMI就是物料帐结算的事务代码，默认的是ML</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116204457539.png" alt="在这里插入图片描述"></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116204509783.png" alt="在这里插入图片描述"></p>
<p>MIR7采购部预制发票</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/2021011620453342.png" alt="在这里插入图片描述"></p>
<p>MIRO采购部直接发票过账</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116204554606.png" alt="在这里插入图片描述"></p>
<p>MR21标准价格变更</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/2021011620490257.png" alt="在这里插入图片描述"></p>
<p>MR22移动价格变更</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116205017877.png" alt="在这里插入图片描述"></p>
<p>MR8M取消供应商发票</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116205250457.png" alt="在这里插入图片描述"></p>
<p>MRKO供应商寄售的凭证类型</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116205348662.png" alt="在这里插入图片描述"></p>
<h2 id="7、VOFA：销售开票默认凭证类型"><a href="#7、VOFA：销售开票默认凭证类型" class="headerlink" title="7、VOFA：销售开票默认凭证类型"></a>7、VOFA：销售开票默认凭证类型</h2><p>销售开票凭证类型会对应不同的会计凭证类型</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116205639312.png" alt="在这里插入图片描述"></p>
<h2 id="8、OKO7：订单结算默认凭证类型"><a href="#8、OKO7：订单结算默认凭证类型" class="headerlink" title="8、OKO7：订单结算默认凭证类型"></a>8、OKO7：订单结算默认凭证类型</h2><p>只要生产订单、销售订单、WBS结算、内部订单结算的凭证类型都在这默认。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116205705570.png" alt="在这里插入图片描述"></p>
<h2 id="9、OB59：外币评估默认凭证类型"><a href="#9、OB59：外币评估默认凭证类型" class="headerlink" title="9、OB59：外币评估默认凭证类型"></a>9、OB59：外币评估默认凭证类型</h2><p>通过外币评估方法直接定义凭证类型。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/2021011620573211.png" alt="在这里插入图片描述"></p>
<h2 id="10、FBKP：清账程序默认凭证类型"><a href="#10、FBKP：清账程序默认凭证类型" class="headerlink" title="10、FBKP：清账程序默认凭证类型"></a>10、FBKP：清账程序默认凭证类型</h2><p>比如说你是否意识到F.13自动清账产生的会计凭证凭证类型？</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116205756623.png" alt="在这里插入图片描述"></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/2021011620584369.png" alt="在这里插入图片描述"></p>
<h2 id="11、GRIR重分类默认的凭证类型"><a href="#11、GRIR重分类默认的凭证类型" class="headerlink" title="11、GRIR重分类默认的凭证类型"></a>11、GRIR重分类默认的凭证类型</h2><p>这个SAP就没有地方来默认凭证类型了</p>
<p>直接在源程序上写了一段话，这也算隐式增强吧！</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116205945790.png" alt="在这里插入图片描述"></p>
<h2 id="12、FAGLF101往来重分类默认凭证类型"><a href="#12、FAGLF101往来重分类默认凭证类型" class="headerlink" title="12、FAGLF101往来重分类默认凭证类型"></a>12、FAGLF101往来重分类默认凭证类型</h2><p>往来重分类必然会用到评估范围，通过新增评估方法达到新增评估范围的作用，即可实现对往来重分类默认不同的会计科目。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116210011282.png" alt="在这里插入图片描述"></p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116210024300.png" alt="在这里插入图片描述"></p>
<p>如果想要在进入faglf101就直接默认凭证类型，可做一个小增强</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20210116210050103.png" alt="在这里插入图片描述"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/06/%E9%85%8D%E7%BD%AEgit%E7%9A%84%E5%9B%BE%E5%BA%8A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/06/%E9%85%8D%E7%BD%AEgit%E7%9A%84%E5%9B%BE%E5%BA%8A/" class="post-title-link" itemprop="url">git的博客配置图床</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-06 14:12:00" itemprop="dateCreated datePublished" datetime="2022-06-06T14:12:00+08:00">2022-06-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-16 08:45:03" itemprop="dateModified" datetime="2022-07-16T08:45:03+08:00">2022-07-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/git/" itemprop="url" rel="index"><span itemprop="name">git</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1、配置git上传仓库"><a href="#1、配置git上传仓库" class="headerlink" title="1、配置git上传仓库"></a>1、配置git上传仓库</h2><p>省略</p>
<h2 id="2、使用-jsDelivr-进行-CDN-加速"><a href="#2、使用-jsDelivr-进行-CDN-加速" class="headerlink" title="2、使用 jsDelivr 进行 CDN 加速"></a>2、使用 jsDelivr 进行 CDN 加速</h2><p>前面已经利用 GitHub 仓库实现了图床功能，但是大家都知道，GitHub 在国内访问很慢，甚至经常打不开，那么我们的图片就存在加载速度慢的问题，怎么办呢？<strong>jsDelivr</strong> 可以解决此问题，显著提高图片访问的响应速度，并且开源免费！其官网为：jsDelivr - A free, fast, and reliable CDN for open source。</p>
<p>使用方法也非常的简单，直接在浏览器通过地址<code>https://cdn.jsdelivr.net/gh/你的用户名/你的仓库名@发布的版本号/文件路径</code>就可以访问 GitHub 上的图片，并且响应速度非常快！其中@发布的版本号可以直接省略，默认加载最新版本，即直接可以简写为<code>https://cdn.jsdelivr.net/gh/你的用户名/你的仓库名/文件路径</code></p>
<p>比如：<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/yifeng-talking/pictures/avatar.jpg">https://cdn.jsdelivr.net/gh/yifeng-talking/pictures/avatar.jpg</a></p>
<h2 id="3、使用PicGo上传图片"><a href="#3、使用PicGo上传图片" class="headerlink" title="3、使用PicGo上传图片"></a>3、使用PicGo上传图片</h2><p>前面实现了 GitHub 仓库作为图床，jsDelivr 对图片进行加速。但是每次我们都需要使用 Git 工具或者在 GitHub 仓库中进行上传图片，并且要自己拼接图片地址，非常麻烦，有没有更快速更简洁的方式呢？此时神器 <strong>PicGo</strong> 就派上了用场，同样开源免费！</p>
<p>PicGo 是一个用于快速上传图片并获取图片 URL 链接的工具，支持多个图床进行使用，其中当然包括我们现在使用的 GitHub 图床了，它同时支持 Windows、macOS、Linux平台，详情可见：Molunerfinn&#x2F;PicGo: A simple &amp; beautiful tool for pictures uploading built by vue-cli-electron-builder (github.com)</p>
<p>这里以 Windows 为例，说明 PicGo 的使用方法。</p>
<ul>
<li>下载并安装 PicGo，<a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/PicGo/releases/download/v2.2.2/PicGo-Setup-2.2.2.exe">https://github.com/Molunerfinn/PicGo/releases/download/v2.2.2/PicGo-Setup-2.2.2.exe</a></li>
<li>打开 PicGo 软件，找到<code>图床设置</code>中的<code>GitHub图床</code>，填写相关信息。</li>
<li><ul>
<li><strong>设定仓库名【必填】</strong>：填写<code>你的用户名/你的仓库名</code>，比如我的 yifeng-talking&#x2F;pictures</li>
<li><strong>设定分支名【必填】</strong>：填写<code>main</code></li>
<li><strong>设定Token【必填】</strong>：在Github主页点击自己头像后，依次选择【Settings】-&gt;【Developer settings】-&gt;【Personal access tokens】-&gt;【Generate new token】，填写Note描述（随便），设置过期时间Expiration为永不过期No expiration，设定勾选【repo】，然后点击下方的【Generate token】生成一个Token，这个Token只会显示一次，自行保存，然后复制到 PicGo 中。</li>
<li>指定存储路径【选填】：填写图片要存储的路径，比如填【images&#x2F;】，这样就会在仓库下创建一个名为 images 的文件夹，图片将会储存在此文件夹中，这里不填。</li>
<li><strong>设定自定义域名【选填】</strong>：图片上传后，PicGo 会按照【自定义域名+上传的图片名】的方式生成访问链接，放到剪贴板上，因为我们要使用 jsDeliver 进行加速，因而这里设置为<code>https://cdn.jsdelivr.net/gh/你的用户名/你的仓库名</code>，比如我设置为<strong><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/yifeng-talking/pictures">https://cdn.jsdelivr.net/gh/yifeng-talking/pictures</a></strong></li>
</ul>
</li>
<li><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/b219ebc4b74543a9be32bf495e2f988bb80114ce.png" alt="img"></li>
<li>接着就可以在<code>上传区</code>，将自己的图片上传，甚至可以直接将剪切板的截图上传，上传成功后会直接将相应链接复制到剪切板中，我们就可以直接复制到博客（MarkDown 编辑器）中。</li>
<li>在<code>PicGo设置中</code>，可以自定义一些设置，比如上传前重命名、时间戳重命名等，自行设置。</li>
</ul>
<h2 id="4、typora配置PicGo上传"><a href="#4、typora配置PicGo上传" class="headerlink" title="4、typora配置PicGo上传"></a>4、typora配置PicGo上传</h2><p>前面使用了 PicGo 工具快速上传图片并获取图片 URL 链接，方便了很多，但是每次都要先在 PicGo 中进行上传，然后将剪切板中链接复制到 MarkDown 编辑器中，有没有更优雅简便的方式，可以将两步合二为一呢？答案是<strong>Typera+PicGo</strong>。</p>
<p>Typera 是一款轻便简洁的 Markdown 编辑器，可以即时渲染，并且完全免费，推荐大家用此软件进行写作，其官网为：Typora — a markdown editor, markdown reader.</p>
<p>下面介绍 Typora 结合 PicGo 实现上传功能。</p>
<ul>
<li>下载 Typora，网址Typora — a markdown editor, markdown reader.</li>
<li>打开 PicGo，在<code>PicGo设置</code>中，点击【设置 Server 】，将监听端口修改为：36677</li>
<li>打开 Typera，点击【文件】 -&gt; 【偏好设置】-&gt; 【图像】，然后进行如下配置，其中 PicGo 路径是你的 PicGo 的安装路径。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/4034970a304e251fdd70f5ea9ebedb1e7e3e53d9.png" alt="img"></p>
<ul>
<li>在 Typera 中书写文章，插入图片（也可以直接将截图复制）时会自动将图片进行上传，并显示在文章中，非常的方便。当然插入图片时也可以不选择上传图片，也就是不自动上传图片，可以手动在图片上右击上传图片。</li>
</ul>
<hr>
<p>新增next样式的搜索：</p>
<p>已经集成在Next主题中，只需要简单的配置即可使用，而且体验非常好。<a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=http://theme-next.iissnan.com/third-party-services.html%23local-search">官方文档中</a>也有详细的安装说明，如下图</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/11018813-eb5a93591305d185.png" alt="img"></p>
<p>第一步，安装 <code>hexo-generator-searchdb</code>，在站点的根目录下执行以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<p>第二步，编辑【站点配置文件】，新增以下内容到任意位置：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Local Search搜索功能</span><br><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure>

<p>第三步，编辑【主题配置文件】，启用本地搜索功能：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Local search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>

<p>成功</p>
<hr>
<p>如果用vscode来编辑md的话，使用markdown editor插件，图片上传使用picgo插件，但是需要重新配置图床。</p>
<p>配置图床<br><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20220716084457.png" alt="20220716084457"></p>
<p>测试插入图片</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20220716083954.png" alt="20220716083954"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/23/%E8%87%B4%E8%BF%9CDee%E6%8E%A5%E5%8F%A3%E5%A0%B5%E5%A1%9E%E5%BC%B9%E7%AA%97%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/23/%E8%87%B4%E8%BF%9CDee%E6%8E%A5%E5%8F%A3%E5%A0%B5%E5%A1%9E%E5%BC%B9%E7%AA%97%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">致远Dee接口堵塞弹窗记录</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-05-23 10:43:22 / 修改时间：10:55:39" itemprop="dateCreated datePublished" datetime="2022-05-23T10:43:22+08:00">2022-05-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%87%B4%E8%BF%9COA/" itemprop="url" rel="index"><span itemprop="name">致远OA</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题背景："><a href="#问题背景：" class="headerlink" title="问题背景："></a>问题背景：</h2><p>在致远OA传输到SAP接口时，需要校验下接口能否调用成功，比如OA询比价写入SAP的时候没有维护供应商，如果不加校验这一步的话会导致SAP返回错误，OA流程结束，这样只能去SAP调整问题，然后手工调用接口，很麻烦。</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>利用Dee的高级功能，堵塞即可解决以上的需求，当传输接口有问题的时候，直接弹出报错弹窗，待处理人解决问题后提交SAP，也就是说只要是能提交到SAP的数据都是正确的。</p>
<h2 id="具体代码"><a href="#具体代码" class="headerlink" title="具体代码"></a>具体代码</h2><ol>
<li>SAP接口要求：要求SAP的接口返回值包含TYPE&#x2F;FLAG的标识和MESSAGE的返回错误消息，不要在外面包一层，不然解析很麻烦。</li>
<li>SAP接口配置完成以后，再写一个转换元数据的脚本，这个的意思就是把返回的数据解析为Dee能够解析的元数据，这个元数据就是来拼接XML，具体代码如下：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">String MESSAGE=getParaByName(document,&quot;MESSAGE&quot;);  &quot;解析SAP返回的错误消息</span><br><span class="line">String FLAG=getParaByName(document,&quot;FLAG&quot;);  &quot;解析SAP返回标识</span><br><span class="line"></span><br><span class="line">String xml=&quot;&lt;root&gt;&quot;;</span><br><span class="line">xml+=&quot;&lt;area count=\&quot;1\&quot; totalCount=\&quot;1\&quot;&gt;&quot;;</span><br><span class="line">xml+=&quot;&lt;row&gt;&quot;;</span><br><span class="line">xml+=&quot;&lt;MESSAGE&gt;&quot;+MESSAGE+&quot;&lt;/MESSAGE&gt;&quot;;</span><br><span class="line">xml+=&quot;&lt;FLAG&gt;&quot;+FLAG+&quot;&lt;/FLAG&gt;&quot;;</span><br><span class="line">xml+=&quot;&lt;/row&gt;&quot;;</span><br><span class="line">xml+=&quot;&lt;/area&gt;&quot;;</span><br><span class="line">xml+=&quot;&lt;/root&gt;&quot;;</span><br><span class="line">createDocByXml(xml);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>根据解析的元数据进行堵塞处理，具体代码如下：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">String sta = &quot;&quot;;</span><br><span class="line">String FLAG=getParaByName(document,&quot;FLAG&quot;);</span><br><span class="line">String MSG = getParaByName(document,&quot;MESSAGE&quot;);</span><br><span class="line">if(FLAG.equals(&quot;Y&quot;))&#123;</span><br><span class="line">  sta = &quot;T&quot;;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">  sta = &quot;F&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">setHighSetStr(document,sta,&quot;Y&quot;,MSG,&quot;&quot;);</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/21/SAP%E7%9F%A5%E8%AF%86%E7%82%B9%E9%80%9F%E6%9F%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/21/SAP%E7%9F%A5%E8%AF%86%E7%82%B9%E9%80%9F%E6%9F%A5/" class="post-title-link" itemprop="url">SAP知识点速查</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-21 08:32:52" itemprop="dateCreated datePublished" datetime="2022-05-21T08:32:52+08:00">2022-05-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-04-12 10:44:20" itemprop="dateModified" datetime="2023-04-12T10:44:20+08:00">2023-04-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>21、变量的范围</strong></p>
<p>abap程序变量的定义，全局变量、局部变量<br>如果在报表中，定义为全局变量，那么在所有的form中都能取到内表值，如果在form中定义的变量，那么别的form会拿不到这个内表值，虽然局部变量会更加安全和严谨，但是不方便。<br>按需使用。</p>
<p><strong>1、DELETE用法</strong></p>
<p>DELETE内表的话必须要在loop循环中或者加条件index，然后才能直接删除；如果loop循环是一个内表，循环内删除另外一个内表会直接dump。</p>
<p><strong>2、查询内表条数：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DATA:n type I</span><br><span class="line"> n = lines( it_tab ).</span><br></pre></td></tr></table></figure>

<p><strong>3、concatenate 与 &amp;&amp;</strong></p>
<p>有如将整型（I）与一个字符串（String）进行连接，此时不能直接使用CONCATENATE进行连接，因为CONCATENATE 操作的是字符类型，所以需要将整型转换为字符型后才能使用CONCATENATE 进行连接，但这里需要注意的，当正整型变量转换为字符类型时，符号位会转换为空格，这时使用CONCATENATE 接连得到的字符串可能会多出一个空格；当将整型变量与字符串进行连接时，最好使用 &amp;&amp; 操作符，除了直接能连接外，还不会出现多余空格的问题：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DATA: i TYPE i VALUE &#x27;10&#x27;.</span><br><span class="line">DATA: str TYPE string VALUE &#x27;string&#x27;.</span><br><span class="line">DATA: tmp TYPE string.</span><br><span class="line">str = i &amp;&amp; str.</span><br><span class="line">WRITE: / str.</span><br><span class="line">tmp = i.</span><br><span class="line">CONCATENATE tmp str INTO str.</span><br><span class="line">WRITE: / str.</span><br></pre></td></tr></table></figure>

<p><strong>4、select single * 的用法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">SELECT SINGLE *</span><br><span class="line">    FROM ztmm_010</span><br><span class="line">    WHERE fph = it_upload-fph</span><br><span class="line">    AND   ebeln = it_upload-ebeln</span><br><span class="line">    AND   ebelp = it_upload-ebelp</span><br><span class="line">    AND   del NE &#x27;X&#x27;.</span><br><span class="line">    IF sy-subrc EQ 0.</span><br><span class="line">    PERFORM inmsg(zpubform) TABLES return USING &#x27;ZXMD_MSG&#x27; &#x27;E&#x27; &#x27;034&#x27;</span><br><span class="line">    it_upload-fph it_upload-ebeln</span><br><span class="line">    it_upload-ebelp ztmm_010-kpmxno.</span><br><span class="line">    ENDIF.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如果select single * 执行成功，如果系统找到一个完全符合指定条件的行，SY-SUBRC返回0，否则返回4。</p>
<p><strong>5、消息号</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MESSAGE s000(oo) WITH &#x27;工厂必填&#x27; DISPLAY LIKE &#x27;E&#x27;.</span><br></pre></td></tr></table></figure>

<p><strong>6、记账码</strong></p>
<table>
<thead>
<tr>
<th>记账码</th>
<th>说明</th>
<th>记账码</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>01</td>
<td>客户借方</td>
<td>11</td>
<td>客户贷方</td>
</tr>
<tr>
<td>09</td>
<td>客户特别借方</td>
<td>19</td>
<td>客户特别贷方</td>
</tr>
<tr>
<td>21</td>
<td>供应商借方</td>
<td>31</td>
<td>供应商贷方</td>
</tr>
<tr>
<td>29</td>
<td>供应商特别借方</td>
<td>39</td>
<td>供应商特别贷方</td>
</tr>
<tr>
<td>40</td>
<td>一般总账借方</td>
<td>50</td>
<td>一般总账贷方</td>
</tr>
<tr>
<td>70</td>
<td>固定资产借方</td>
<td>75</td>
<td>固定资产贷方</td>
</tr>
</tbody></table>
<p><strong>7、主表与子表关系</strong></p>
<p>  销售凭证：VBAK&#x2F;VBAP</p>
<p>   采购凭证：ekko&#x2F;ekpo</p>
<p>   物料凭证：mkpf&#x2F;mseg</p>
<p>   会计凭证：bkpf&#x2F;bseg</p>
<p>其中会计凭证bseg之间的表关系：参考 《FICO的BSEG与各表之间的关系》记录。</p>
<p><strong>8、查看表修改记录：</strong></p>
<p>执行TCODE    se38</p>
<p>RKSE16N_CD_DISPLAY</p>
<p><strong>9、提高循环效率</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">LOOP AT TAB1.</span><br><span class="line">	READ TABLE TAB2 WITH KEY 学号 = TAB1-学号 BINARY SEARCH TRANSPORTING NO FILEDS.</span><br><span class="line">	LOOP AT TAB2 FROM SY-TABXI.</span><br><span class="line">		IF TAB2-学号 &lt;&gt; TAB1-学号。</span><br><span class="line">			EXIT.</span><br><span class="line">		ENDIF.</span><br><span class="line">		&quot;其他处理</span><br><span class="line">	ENDLOOP.</span><br><span class="line">ENDLOOP.</span><br></pre></td></tr></table></figure>

<p>原因分析：内层循环表已经排序，首先根据内层循环表用二分法查找到指定学号的索引，然后从索引处开始循环，循环到学号与外层学号不一致时，退出内层循环，减少内层循环次数。</p>
<p><strong>10、ALV_SHOW部分代码，标准的</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">FORM alvshow.</span><br><span class="line">  PERFORM init_fieldcat(zpubform) TABLES fieldcat USING:</span><br><span class="line"></span><br><span class="line">           &#x27;WERKS&#x27; &#x27;工厂&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; ,</span><br><span class="line">           &#x27;ZYF&#x27; &#x27;月份&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; ,</span><br><span class="line">           &#x27;CHANDI&#x27; &#x27;产地&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; ,</span><br><span class="line">           &#x27;HOUDUS&#x27; &#x27;厚度&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; ,</span><br><span class="line">           &#x27;WIDTHS&#x27; &#x27;宽度&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; ,</span><br><span class="line">           &#x27;CAIZHI&#x27; &#x27;材质&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; ,</span><br><span class="line">           &#x27;RZKC&#x27; &#x27;热轧库存&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; ,</span><br><span class="line">           &#x27;SXKC&#x27; &#x27;酸洗库存&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; ,</span><br><span class="line">           &#x27;RSKC&#x27; &#x27;热酸库存&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; ,</span><br><span class="line">           &#x27;ZHTL&#x27; &#x27;本月合同量&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; ,</span><br><span class="line">           &#x27;ZYDHL&#x27; &#x27;本月已到货量&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; ,</span><br><span class="line">           &#x27;ZWDHL&#x27; &#x27;本月未到货量&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27;,</span><br><span class="line">           &#x27;ZHTL1&#x27; &#x27;上月合同量&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; ,</span><br><span class="line">           &#x27;ZYDHL1&#x27; &#x27;上月已到货量&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; ,</span><br><span class="line">           &#x27;ZWDHL1&#x27; &#x27;上月未到货量&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27;,</span><br><span class="line">           &#x27;ZZWDHL&#x27; &#x27;未到货量合计&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27; &#x27;&#x27;</span><br><span class="line">    .</span><br><span class="line"></span><br><span class="line">  PERFORM alvfm(zpubform) TABLES it_output fieldcat USING &#x27;X&#x27; &#x27;&#x27;.</span><br><span class="line">ENDFORM.</span><br><span class="line"></span><br><span class="line">*调用自定义GUI状态</span><br><span class="line">FORM set_status USING rt_extab TYPE slis_t_extab.</span><br><span class="line">  DATA lt_exfcode TYPE TABLE OF sy-ucomm.</span><br><span class="line">  SET PF-STATUS &#x27;STANDARD_FULLSCREEN&#x27; EXCLUDING lt_exfcode.</span><br><span class="line">ENDFORM. &quot;set_status</span><br></pre></td></tr></table></figure>

<p><strong>11、根据不同状态显示不同按钮</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">根据不同状态显示不同的按钮</span><br><span class="line">*调用自定义GUI状态</span><br><span class="line">FORM set_status USING rt_extab TYPE slis_t_extab.</span><br><span class="line">  DATA lt_exfcode TYPE TABLE OF sy-ucomm.</span><br><span class="line">  IF p_r3 = &#x27;X&#x27;.</span><br><span class="line">    APPEND &#x27;BUT01&#x27; TO lt_exfcode.</span><br><span class="line">  ELSEIF p_r1 = &#x27;X&#x27; OR p_r2 = &#x27;X&#x27;.</span><br><span class="line">    APPEND &#x27;BUT02&#x27; TO lt_exfcode.</span><br><span class="line">  ENDIF.</span><br><span class="line">  SET PF-STATUS &#x27;STANDARD_FULLSCREEN&#x27; EXCLUDING lt_exfcode.</span><br><span class="line">ENDFORM. &quot;set_status</span><br></pre></td></tr></table></figure>

<p><strong>12、日期时间通用结构</strong></p>
<p>ZSPUBS_0001</p>
<p><strong>13、代码拆包</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&quot;这里要注意向上取整的话，需要定义分子为menge类型，不能定义为i，不然在出现0.XXX的情况下就会为0.</span><br><span class="line">&quot;拆包，这个函数最多接受32767 行，把lt_periods 拆成每2w一个包</span><br><span class="line">  DATA:xh_index TYPE i.</span><br><span class="line">  DATA:g_lines TYPE mseg-menge.</span><br><span class="line">  DESCRIBE TABLE lt_periods LINES g_lines .</span><br><span class="line">  &quot;向上取整</span><br><span class="line">  xh_index = ceil( g_lines / 20000 ).</span><br><span class="line"></span><br><span class="line">  DO xh_index TIMES.</span><br><span class="line"></span><br><span class="line">    CLEAR lt_periods_m.</span><br><span class="line">    LOOP AT lt_periods INTO ls_periods.</span><br><span class="line">      IF ( sy-index * 20000 ) &gt;= sy-tabix AND sy-tabix &gt; ( sy-index - 1 ) * 20000  .</span><br><span class="line">        APPEND ls_periods TO lt_periods_m.</span><br><span class="line">      ELSE.</span><br><span class="line">        CONTINUE.</span><br><span class="line">      ENDIF.</span><br><span class="line">    ENDLOOP.</span><br><span class="line"></span><br><span class="line">    CLEAR lt_period_ml_data_m.</span><br><span class="line">    CALL METHOD cl_fml_join_ckmlpp_cr_buffer=&gt;get_most_recent_ml_pd_mass</span><br><span class="line">      EXPORTING</span><br><span class="line">        iv_untper         = f_untper</span><br><span class="line">        iv_bwkey          = p_werks</span><br><span class="line">        it_kalnr          = lt_periods_m</span><br><span class="line">        iv_poper          = p_month</span><br><span class="line">        iv_bdatj          = p_lfgja</span><br><span class="line">      IMPORTING</span><br><span class="line">        et_ml_period_data = lt_period_ml_data_m.</span><br><span class="line"></span><br><span class="line">    &quot;MOVE-CORRESPONDING lt_period_ml_data_m TO lt_period_ml_data.</span><br><span class="line">    APPEND LINES OF lt_period_ml_data_m TO lt_period_ml_data.</span><br><span class="line">  ENDDO.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>14、union用法：union合并重复行，union all 不合并重复行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&quot;收款金额</span><br><span class="line">   SELECT</span><br><span class="line">    kunnr,</span><br><span class="line">    xref1,</span><br><span class="line">    shkzg,</span><br><span class="line">    dmbtr</span><br><span class="line">  FROM bsid</span><br><span class="line">  WHERE</span><br><span class="line">    budat &gt; &#x27;20211231&#x27;</span><br><span class="line">  AND budat &lt;= @p_budat</span><br><span class="line">  AND blart &lt;&gt; &#x27;AB&#x27;</span><br><span class="line">  AND blart &lt;&gt; &#x27;RV&#x27;</span><br><span class="line"></span><br><span class="line">  union all</span><br><span class="line">  </span><br><span class="line">  select kunnr,</span><br><span class="line">     xref1,</span><br><span class="line">     shkzg,</span><br><span class="line">     dmbtr</span><br><span class="line">  from bsad</span><br><span class="line">  where budat &gt; &#x27;20211231&#x27;</span><br><span class="line">  and budat &lt;= @p_budat</span><br><span class="line">  and blart &lt;&gt; &#x27;ab&#x27;</span><br><span class="line">  and blart &lt;&gt; &#x27;rv&#x27;</span><br><span class="line"></span><br><span class="line">  INTO CORRESPONDING FIELDS OF TABLE @it_sk.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>15、批次相关</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">1）根据特性查询相关批次</span><br><span class="line">CALL FUNCTION &#x27;ZFMS_16_GETPCTX&#x27;</span><br><span class="line">        EXPORTING</span><br><span class="line">          atnam   = &#x27;Z83&#x27;</span><br><span class="line">          werks   = it_ct_out-werks</span><br><span class="line">        TABLES</span><br><span class="line">          inmatnr = inmatnr</span><br><span class="line">          inlgort = inlgort</span><br><span class="line">          r_tab   = r_tab</span><br><span class="line">          outtab  = outtab.</span><br><span class="line">2）收货的时候会写入相关批次</span><br><span class="line"> CALL FUNCTION &#x27;ZFMS_01_MIGOPOST&#x27;</span><br><span class="line">        EXPORTING</span><br><span class="line">          budat = it_ct_out-budat</span><br><span class="line">          code  = &#x27;01&#x27;</span><br><span class="line">          bwart = &#x27;101&#x27;</span><br><span class="line">          bktxt = &#x27;ZMM010-油漆标准收货&#x27;</span><br><span class="line">        IMPORTING</span><br><span class="line">          rtype = p_type</span><br><span class="line">          rtmsg = p_msg</span><br><span class="line">          mblnr = mblnr</span><br><span class="line">          mjahr = mjahr</span><br><span class="line">        TABLES</span><br><span class="line">          item  = it_migo.</span><br><span class="line">3）新增批次编号（传入物料组）</span><br><span class="line">CALL FUNCTION &#x27;ZFM_GETBATCHNO&#x27;</span><br><span class="line">      EXPORTING</span><br><span class="line">        MATKL = MATKL</span><br><span class="line">      CHANGING</span><br><span class="line">        CHARG = NBATCH.</span><br><span class="line"></span><br><span class="line">4）更新批次特性</span><br><span class="line">it_char-no = &#x27;Z86&#x27;.</span><br><span class="line">        it_char-value = it_ct_out-zchangj.</span><br><span class="line">        APPEND it_char.</span><br><span class="line"></span><br><span class="line">        CLEAR:rtype,rtmsg.</span><br><span class="line">        CALL FUNCTION &#x27;ZMMS_UPDATE_OBJCL&#x27;</span><br><span class="line">          EXPORTING</span><br><span class="line">            matnr = it_ct_out-matnr</span><br><span class="line">            charg = new_charg</span><br><span class="line">            werks = it_ct_out-werks</span><br><span class="line">          IMPORTING</span><br><span class="line">            rtype = rtype</span><br><span class="line">            rtmsg = rtmsg</span><br><span class="line">          TABLES</span><br><span class="line">            char  = it_char.</span><br><span class="line"></span><br><span class="line">        IF sy-subrc &lt;&gt; &#x27;0&#x27;.</span><br><span class="line">          PERFORM bapi_rollback.</span><br><span class="line">          rtmsg = &#x27;物料批次创建失败:&#x27; &amp;&amp; rtmsg.</span><br><span class="line">        ELSE.</span><br><span class="line">          PERFORM bapi_commit.</span><br><span class="line">          it_ct_out-memo = &#x27;完成批次特性维护&#x27;.</span><br><span class="line">          MODIFY it_ct_out .</span><br><span class="line">        ENDIF.</span><br><span class="line">5）根据卷号找批次</span><br><span class="line"> intab-zjh = zztjh.</span><br><span class="line">      APPEND intab.</span><br><span class="line">      CALL FUNCTION &#x27;ZFM_GETBATCH_BYJH&#x27;</span><br><span class="line">        EXPORTING</span><br><span class="line">          nozero = &#x27;&#x27;</span><br><span class="line">        TABLES</span><br><span class="line">          intab  = intab</span><br><span class="line">          outtab = outtab. </span><br><span class="line">6）取批次特性</span><br><span class="line"> CALL FUNCTION &#x27;ZFMS_05_GETPCTX&#x27;</span><br><span class="line">        EXPORTING</span><br><span class="line">          ATNAM  = ATNAMSTR</span><br><span class="line">        TABLES</span><br><span class="line">          INTAB  = IT_MCHA</span><br><span class="line">          OUTTAB = OUTTAB.</span><br><span class="line">7）取批次特性1</span><br><span class="line">DATA:IT_VAL   TYPE TABLE OF API_VALI WITH HEADER LINE,</span><br><span class="line">     IT_CHAR1 TYPE TABLE OF API_CHAR WITH HEADER LINE,</span><br><span class="line">     IT_ATT   TYPE TABLE OF API_CH_ATT WITH HEADER LINE.</span><br><span class="line">LOOP AT it_mchb .</span><br><span class="line">    PERFORM getpctx(zpubform) TABLES it_val it_char1 it_att USING it_mchb-matnr it_mchb-werks it_mchb-charg.</span><br><span class="line">    READ TABLE it_val WITH KEY atnam = &#x27;Z15&#x27;.</span><br><span class="line">    IF sy-subrc EQ 0.</span><br><span class="line">      it_mchb-zht = it_val-atwrt. &quot;批次特性值</span><br><span class="line">    ENDIF.</span><br><span class="line">    modify it_mchb.</span><br><span class="line">    clear it_mchb.</span><br><span class="line">  ENDLOOP.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>16、BOM的表间关联</strong></p>
<p>STKO和STPO表间关联:</p>
<p>不可以，这是SAP比较奇怪的地方，虽然表STKO是抬头，STPO是行项目，但是STPO没有可选BOM，和STKO没办法直接关联，要STKO先和STAS关联，关联字段为STLAN何和STLAL，然后STAS和是STPO通过STLNR和STLKN关联。</p>
<p><strong>17、binary search注意点</strong></p>
<p>如果查询的2个条件都是相同值时，使用binary search可能失效，查出来的数据会有多条。即：sy-subrc &#x3D; 8。</p>
<p><strong>18、SAP表增强</strong></p>
<p>需要在增强中修改，还需要在OMSR中进行配置，参照之前的配置就行，配置完了进行传输。</p>
<p><strong>19、 关闭会话</strong></p>
<p>SM04进入查看所有会话实例，双击对应的实例，点击删除会话即可踢掉人。</p>
<p><strong>20、 财务相关TCODE</strong></p>
<p>FAGLL03H:总账科目行项目浏览（总账视图）<br>ZRFS002:财务报表<br>ZFI006:科目余额（三联帐）<br>ZFI023:票据管理平台<br>ZFI024:付款管理平台<br>ZFI025:收款管理平台<br>ZFI030:管理凭证平台</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/20/%E8%87%B4%E8%BF%9COA%E9%81%87%E5%9D%91%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/20/%E8%87%B4%E8%BF%9COA%E9%81%87%E5%9D%91%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">致远OA遇坑记录</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-20 14:55:02" itemprop="dateCreated datePublished" datetime="2022-05-20T14:55:02+08:00">2022-05-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-01 16:25:17" itemprop="dateModified" datetime="2022-11-01T16:25:17+08:00">2022-11-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%87%B4%E8%BF%9COA/" itemprop="url" rel="index"><span itemprop="name">致远OA</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="数据源问题"><a href="#数据源问题" class="headerlink" title="数据源问题"></a>数据源问题</h2><p>1、数据源这里如果配置OA数据源，必须要点OA元数据，不然不会出现OA元数据的各个表单，只会出现OA数据库中的各个数据表。</p>
<p><strong>如果数据源更换，Dee任务中的查询链接可能失效，需要重新修改保存重置链接。</strong></p>
<p>2、数据源配置外部数据库需要注意数据库的权限，不然可能会出现只能查询出前50条的情况，这个在链接SCC数据库中的遇到过。</p>
<h2 id="常用OA数据库表"><a href="#常用OA数据库表" class="headerlink" title="常用OA数据库表"></a>常用OA数据库表</h2><p>COL_SUMMARY:流程表，主要记录了表单的发起日期、结束日期、标题、发起人等信息。object_id 和 CTP_AFFAIR表中的id匹配。<br>CTP_AFFAIR:审批记录表，主要记录表单中所有的发起人、审批人、审批权限、接受日期、处理日期等。<br>ORG_MEMBER:人员表<br>ORG_UNIT:部门表<br>FORM_DEFINITION:模板表<br>CAP_FORM_DEFINITION:CAP4模板表，一般来说和上一张表一块用，一个是CAP3的，一个是CAP4的。<br>COL_COMMENT:审批意见表</p>
<h2 id="DEE任务"><a href="#DEE任务" class="headerlink" title="DEE任务"></a>DEE任务</h2><p><strong>1、在接收SAP任务回传时要主要看SAP接口是表还是结构，选择相对应的映射模块。</strong></p>
<p><strong>2、Dee将接口传来的json解析为xml代码</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import static net.sf.json.JSONArray.fromObject;</span><br><span class="line">import static net.sf.json.JSONSerializer.toJSON;</span><br><span class="line">import net.sf.json.JSON;</span><br><span class="line">import net.sf.json.JSONObject;</span><br><span class="line">import net.sf.json.xml.XMLSerializer;</span><br><span class="line"></span><br><span class="line">Object data = document.getContext().getParameters().getValue(&quot;data&quot;);</span><br><span class="line">JSON json = toJSON(data);</span><br><span class="line">XMLSerializer serializer = new XMLSerializer();</span><br><span class="line">serializer.setTypeHintsEnabled(false);</span><br><span class="line">serializer.setObjectName(&quot;root&quot;);</span><br><span class="line">serializer.setElementName(&quot;row&quot;);</span><br><span class="line">String xml = serializer.write(json);</span><br><span class="line">createDocByXml(xml);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>3、Dee将json解析为xml代码并按照部分字段排序：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">import static net.sf.json.JSONSerializer.toJSON;</span><br><span class="line"></span><br><span class="line">import java.util.Comparator;</span><br><span class="line"></span><br><span class="line">import net.sf.json.JSONArray;</span><br><span class="line">import net.sf.json.JSONObject;</span><br><span class="line">import net.sf.json.xml.XMLSerializer;</span><br><span class="line">Object data = document.getContext().getParameters().getValue(&quot;data&quot;);</span><br><span class="line"></span><br><span class="line">JSONObject json = (JSONObject) toJSON(data);</span><br><span class="line">JSONArray intab = json.getJSONArray(&quot;intab&quot;);</span><br><span class="line"></span><br><span class="line">// 按posnr数字从小到大对intab排序</span><br><span class="line">intab.sort(new Comparator&lt;JSONObject&gt;() &#123;</span><br><span class="line">	public int compare(JSONObject o1, JSONObject o2) &#123;</span><br><span class="line">		return o1.optInt(&quot;posnr&quot;) - o2.optInt(&quot;posnr&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">XMLSerializer serializer = new XMLSerializer();</span><br><span class="line"></span><br><span class="line">serializer.setTypeHintsEnabled(false);</span><br><span class="line">serializer.setObjectName(&quot;root&quot;);</span><br><span class="line">serializer.setElementName(&quot;row&quot;);</span><br><span class="line"></span><br><span class="line">String xml = serializer.write(json);</span><br><span class="line"></span><br><span class="line">createDocByXml(xml);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>4、Dee调用Dee任务代码</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line">import com.seeyon.v3x.dee.Parameters;</span><br><span class="line">import com.seeyon.v3x.dee.Document;</span><br><span class="line">import com.seeyon.v3x.dee.TransformException;</span><br><span class="line">import com.seeyon.v3x.dee.TransformFactory;</span><br><span class="line">import com.seeyon.v3x.dee.adapter.Adapter;</span><br><span class="line">import com.seeyon.v3x.dee.resource.DbDataSource;</span><br><span class="line">import com.seeyon.v3x.dee.util.DocumentUtil;</span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.sql.PreparedStatement;</span><br><span class="line">import java.sql.ResultSet;</span><br><span class="line">import java.sql.SQLException;</span><br><span class="line">import java.sql.ResultSetMetaData;</span><br><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Iterator;</span><br><span class="line">import java.util.Map;</span><br><span class="line">import java.sql.Statement;</span><br><span class="line">import java.io.File;</span><br><span class="line">import org.dom4j.DocumentException;</span><br><span class="line">import com.seeyon.v3x.dee.Document.Element;</span><br><span class="line">import com.seeyon.v3x.dee.datasource.XMLDataSource;</span><br><span class="line">import com.seeyon.v3x.dee.DEEClient;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> Document  doc = formDataToDoc();</span><br><span class="line">Element root = doc.getRootElement();</span><br><span class="line">// 主表</span><br><span class="line">Element table = getChildByName(root,&quot;formmain_3647&quot;);</span><br><span class="line">Element row = getChildByName(table,&quot;row&quot;);</span><br><span class="line">Element shuzhi = row.getChild(&quot;field0074&quot;);</span><br><span class="line">Element shuzhi1 = row.getChild(&quot;field0060&quot;);</span><br><span class="line">Element fkzt = row.getChild(&quot;field0077&quot;);</span><br><span class="line">Object a=getElementValue(shuzhi);</span><br><span class="line">Object b=getElementValue(shuzhi1);</span><br><span class="line">Object fkzt1 = getElementValue(fkzt);</span><br><span class="line">double c=Double.parseDouble(b.toString());</span><br><span class="line">println(a);</span><br><span class="line">DEEClient deeClient = new DEEClient();</span><br><span class="line">Parameters parameters = doc.getContext().getParameters();</span><br><span class="line"></span><br><span class="line">if(a.equals(&quot;1&quot;)&amp;&amp;c&gt;0.00 &amp;&amp; fkzt1.equals(&#x27;01&#x27;))&#123;</span><br><span class="line">//银企费用报销费用审核-处理前</span><br><span class="line">deeClient.execute(&quot;-6384030398507104060&quot;,parameters);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">deeClient.execute(&quot;9192960576302960201&quot;,parameters);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>5、主机异常关闭导致Dee所有调用任务失败</strong></p>
<p>现象是：重启A8进程后，所有的dee任务都失效，前台体现是任务监控是空，任务管理是空。</p>
<p>主要原因是：关闭A8进程后，dee.mv.db没有正常shutdown，导致进程堵塞。</p>
<p>解决办法是关闭对应的进程，或者直接重启服务器释放所有进程。</p>
<p><strong>6、OA服务器链接不上数据库问题</strong></p>
<p>因为我们的OA服务器与数据库是分离的，所以在A8进程启动时会首先校验数据源，这就导致在某些情况下会出现链接不到数据库的情况，主要情况如下：</p>
<p>链接数据源超时。。。。（类似的控制台打印）</p>
<p>解决此问题的方法：在数据库服务器中执行：netsh Winsock reset</p>
<p>就是重置数据库服务器的所有基础网络，通过重置网络就可以恢复OA服务器 与数据库的链接。</p>
<p><strong>7、跳号问题（怀疑是致远OA的bug）</strong></p>
<p>跳号问题的表现原因是：比如在付款申请单中，发起一张单据，流水号在前台显示00001，但是审批结束后流水号实际就成了00002，出现了跳号。</p>
<p>解决办法1：打补丁，截至2022-01-08还没有打上。</p>
<p>解决办法2：改变流水号设置地方，出现这个问题主要是流水号利用公式写在表单上。改变流水号到操作设置里即可解决此问题。</p>
<p><strong>8、Dee任务新增搜索</strong></p>
<p>Dee任务搜索主要是靠后台搜索，所以需要拿到搜索框里的数据再去调用Dee任务去拿到搜索后的数据（后台搜索）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import com.alibaba.fastjson.JSONArray;</span><br><span class="line">import com.alibaba.fastjson.JSONObject;</span><br><span class="line">import java.util.HashMap;</span><br><span class="line">import net.sf.json.JSON;</span><br><span class="line">import net.sf.json.JSONObject;</span><br><span class="line">Object json = getParaByName(document,&quot;cap4_magic_condition&quot;);</span><br><span class="line">//截取字符串</span><br><span class="line">Object data = document.getContext().getParameters().getValue(&quot;cap4_magic_condition&quot;);</span><br><span class="line">if(data != null)&#123;</span><br><span class="line">  String name = null;</span><br><span class="line">  String meins = null;</span><br><span class="line">  for (int i = 0;i&lt; data.size();i++)&#123;</span><br><span class="line">     HashMap&lt;String,String&gt; dataMap = (HashMap&lt;String, String&gt;) data.get(i);</span><br><span class="line">     namekey = dataMap.get(&quot;fieldName&quot;);</span><br><span class="line">     name = dataMap.get(&quot;fieldValue&quot;);</span><br><span class="line">    if(namekey == &quot;NAME1&quot;)&#123;</span><br><span class="line">     setParam(document, &quot;NAME1&quot;, name);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    System.out.println(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>主要是利用cap4_magic_condition的这个字段，然后还需要根据这个字段拿到的搜索数据进行参数的增加。</p>
<p><strong>9、外部系统请求致远OA写入文件接口</strong></p>
<p>首先参照致远开放平台文件上传接口：<a target="_blank" rel="noopener" href="http://open.seeyon.com/book/ctp/restjie-kou/wen-dang-fu-wu-guan-li.html">http://open.seeyon.com/book/ctp/restjie-kou/wen-dang-fu-wu-guan-li.html</a></p>
<p>然后根据文档要求请求token，这里的token是需要绑定用户的，所以：具体请求token的参数里还需要加上loginName，如图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20220722160222.png" alt="20220722160222"></p>
<p>请求完成以后，根据文档要求上传file，这里要注意的是postman请求的地址需要是它允许上传的路径，具体的配置在：file-&gt;settings-&gt;working directory里面。</p>
<p>具体的请求界面：<br><img src="https://cdn.jsdelivr.net/gh/bigtiao/pic/images/20220722160136.png" alt="20220722160136"></p>
<p>请求完成以后，可以在CTP_FILE表中查看具体的上传文件id，这里要区分下CTP_ATTACHMENT表的区别，后面这个只是单纯的附件表，前面的是所有上传文件都在CTP_FILE表中，其中CTP_FILE表相当于包含CTP_ATTACHEMENT表的内容。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/20/SAP%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F%E4%B8%8E%E7%A7%BB%E5%8A%A8%E7%B1%BB%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/20/SAP%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F%E4%B8%8E%E7%A7%BB%E5%8A%A8%E7%B1%BB%E5%9E%8B/" class="post-title-link" itemprop="url">SAP系统变量与移动类型</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-05-20 14:12:00 / 修改时间：14:20:14" itemprop="dateCreated datePublished" datetime="2022-05-20T14:12:00+08:00">2022-05-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="系统变量"><a href="#系统变量" class="headerlink" title="系统变量"></a>系统变量</h2><p>SY-SUBRC: 系统执行某指令后,表示执行成功与否的变量,0表示成功</p>
<p>SY-DBLNT: 被处理过的记录的笔数</p>
<p>SY-UNAME: 当前使用者登入SAP的USERNAME</p>
<p>SY-DATUM: 当前系统日期</p>
<p>SY-UZEIT: 当前系统时间</p>
<p>SY-TCODE: 当前执行程序的Transaction code</p>
<p>SY-REPID: 当前程序名称</p>
<p>SY-INDEX : 当前LOOP循环过的次数</p>
<p>SY-TABIX: 当前处理的是internal table 的第几笔</p>
<p>SY-TMAXL: Internal table的总笔数</p>
<p>SY-SROWS: 屏幕总行数</p>
<p>SY-SCOLS: 屏幕总列数</p>
<p>SY-MANDT: 當前系統編號(CLIENT NUMBER)</p>
<p>SY-VLINE: 画竖线</p>
<p>SY-ULINE: 画横线</p>
<p>SY-PAGNO: 当前页号</p>
<p>SY-LINSZ: 当前报表宽度</p>
<p>SY-LINCT: 当前报表长度</p>
<p>SPACE: 空字符串</p>
<p>SY-LSIND: 列表索引页</p>
<p>SY-LISTI: 上一个列表的索引</p>
<p>SY-LILLI: 绝对列表中选定行的行号</p>
<p>SY-CUROW: 屏幕上的行</p>
<p>SY-CUCOL: 光标列</p>
<p>SY-CPAGE: 列表的当前显示页</p>
<p>SY-STARO:真实行号</p>
<p>SY-LISEL: 选择行的内容，长度为255</p>
<p>SY-LINNO: 当前行</p>
<p>SY-SUBRC：语句执行后的返回值，0表示成功</p>
<p>SY-DATUM：当前服务器日期</p>
<p>SY-UZEIT：当前服务器时间</p>
<p>SY-ULINE：255长度的水平线</p>
<p>SY-VLINE：垂直线</p>
<p>SY-INDEX：循环说执行的次数</p>
<p>SY-TABIX：内表循环的次数</p>
<p>SY-DYNNR：当前Screen号</p>
<p>SY-MANDT：当前登录的Client号</p>
<p>SY-STEPL：返回当前操作的屏幕行号（Table Control）</p>
<p>SY-LOOPC：当前表格控件在屏幕中的总行数（Table Control）</p>
<p>SY-UCOMM：PAI所出发的功能代码</p>
<p>SY-DYNNR：当前屏幕号</p>
<p>SY-MSGID：Message Class</p>
<p>SY-MSGNR：Message Number</p>
<p>SY-MSGTY：Message Type</p>
<p>SY-MSGV1~4：Message Variant</p>
<p>SY-LINCT：REPROT语句中设定的LINE-COUNT</p>
<p>SY-LINSZ：REPROT语句中设定的LINE-SIZE</p>
<p>SY-SROWS：当前窗口的列表行数</p>
<p>SY-SCOLS：当前窗口的列表栏目数</p>
<p>SY-PAGNO：当前页的页码</p>
<p>SY-LINNO：当前选定行的行号</p>
<p>SY-COLNO：当前选定列的列号</p>
<p>SY-LSIND：当前列表索引，第一级列表为1</p>
<p>SY-LILLI：选择某行时光标行位置</p>
<p>SY-CUROW：选择某行时光标列位置 </p>
<p>SY-ABCDE 常量，A-Z字母表</p>
<p>SY-BATCH 后台的程序运行</p>
<p>SY-COLNO：当前选定列的列号</p>
<p>SY-CPAGE 列表的当前显示页</p>
<p>SY-CUCOL 屏幕，PAI 的水平光标位置</p>
<p>SY-CUROW：选择某行时光标列位置</p>
<p>sy-datar:在PAI中，如果屏幕上至少有一个输入字段的值被用户或其他数据传输所更改，则为“X”，否则为初始值。</p>
<p>sy-datlo:用户的当前日期</p>
<p>SY-DATUM 服务器日期</p>
<p>SY-DYNNR 当前屏幕的编号</p>
<p>SY-INDEX 循环的次数(DO While)</p>
<p>SY-LANGU 当前登录语言</p>
<p>SY-LILLI：选择某行时光标行位置</p>
<p>SY-LINCT 当前报表长度 (REPROT语句中设定的LINE-COUNT)</p>
<p>SY-LINNO 当前选定行的行号</p>
<p>SY-LINSZ 当前报表宽度(REPROT语句中设定的LINE-SIZE)</p>
<p>SY-LISEL 选择行的内容,长度为255</p>
<p>SY-LISTI 上一个列表的索引</p>
<p>SY-LOOPC：当前表格控件在屏幕中的总行数（Table Control）</p>
<p>SY-LSIND：当前列表索引，第一级列表为1</p>
<p>SY-MSGID 消息, 消息类</p>
<p>SY-MSGTY 消息，消息类型</p>
<p>SY-MSGNO 消息, 消息编号</p>
<p>SY-MSGV1 消息,消息变量1</p>
<p>SY-MSGV2 消息,消息变量2</p>
<p>SY-MSGV3 消息,消息变量3</p>
<p>SY-MSGV4 消息,消息变量4</p>
<p>SY-PAGNO 当前页号</p>
<p>SY-SCOLS：当前窗口的列表栏目数</p>
<p>SY-SLSET 选择屏幕的变式名称</p>
<p>SY-SROWS：当前窗口的列表行数</p>
<p>SY-STARO 真实行号</p>
<p>SY-STEPL：返回当前操作的屏幕行号（Table Control）</p>
<p>SY-SUBRC 执行状态</p>
<p>SY-TABIX 当前处理的内表的Index</p>
<p>SY-TCODE 当前的事务代码</p>
<p>SY-UCOMM：PAI所出发的功能代码</p>
<p>SY-ULINE 水平线</p>
<p>SY-UNAME 用户名</p>
<p>SY-UZEIT 服务器时间</p>
<p>SY-VLINE 垂直线</p>
<p>附加几个系统常用函数</p>
<p>SHIFT STRING：左移字符串。长度减1。</p>
<p>CONCATENATE：连接字符串。</p>
<p> SPLIT：拆分字符串。</p>
<p>SEARCH：查询字符串。</p>
<p>REPLACE：替换字符串。</p>
<p>CONDENSE：删除多余的空格。</p>
<p>TRANSLATE：转换字符格式，如将’ABC’转换为’ABC’</p>
<p>CONVERT TEXT：创建一个可排序的字符串。</p>
<p>OVERLAY：用一个字符串覆盖另一个字符串。</p>
<p>STRLEN：字符串长度。</p>
<p>ABS：取绝对值。</p>
<p>COS、SIN、TAN：取三角函数值。</p>
<p>ACOS、ASIN、ATAN：反三角函数。</p>
<p>COSH、SINH、TANH：双曲函数。</p>
<p>EXP：E的幂函数。</p>
<p>LOG：底数为E的对数。</p>
<p>LOG10：底数为10的对数。</p>
<p>SQRT：平方根。</p>
<p>SIGN：返回参数符号。</p>
<p>TRUNC：返回参数的整数部分。</p>
<p>FRAC：输入参数的小数部分。</p>
<p>CEIL：返回不小于参数的最小整数。</p>
<p>FLOOR：返回不大于参数的最小整数。</p>
<h2 id="移动类型"><a href="#移动类型" class="headerlink" title="移动类型"></a>移动类型</h2><ul>
<li>01 MB01 按采购订单的货物移动</li>
<li>02 MB31 按生产订单的货物移动</li>
<li>03 MB1A 货物提取（工单退料）</li>
<li>04 MB1B 转移过帐</li>
<li>05 MB1C 其他收货</li>
<li>06 MB11 货物移动</li>
<li>07 MB04 “物料供应”消耗的事后调整</li>
</ul>
<table>
<thead>
<tr>
<th><strong>移动类型</strong></th>
<th><strong>移动类型文本</strong></th>
<th><strong>含义</strong></th>
<th><strong>事务码</strong></th>
</tr>
</thead>
<tbody><tr>
<td>101</td>
<td>GR 收货</td>
<td>直接收货</td>
<td>MIGO&#x2F;CO11N</td>
</tr>
<tr>
<td>102</td>
<td>用于PO冲销的收货</td>
<td>冲销直接收货</td>
<td>MIGO&#x2F;CO11N</td>
</tr>
<tr>
<td>103</td>
<td>进入冻结库存的收货</td>
<td>收入质检仓</td>
<td>MIGO</td>
</tr>
<tr>
<td>104</td>
<td>到冻结冲销的收货</td>
<td>冲销收入质检仓（待检退货等）</td>
<td>MIGO</td>
</tr>
<tr>
<td>105</td>
<td>来自冻结库存的收货</td>
<td>从质检仓收货入库</td>
<td>MIGO</td>
</tr>
<tr>
<td>106</td>
<td>来自冻结的收货冲销</td>
<td>冲销入库异常及向供应商退货</td>
<td>MIGO</td>
</tr>
<tr>
<td>121</td>
<td>收货后续调整</td>
<td></td>
<td></td>
</tr>
<tr>
<td>122</td>
<td>RE 向供应商退货</td>
<td>向供应商退货（101、105）</td>
<td>MIGO</td>
</tr>
<tr>
<td>123</td>
<td>RE退货供应商冲销</td>
<td>冲销向供应商退货（122）</td>
<td>MIGO</td>
</tr>
<tr>
<td>124</td>
<td>收货退货冻结库存</td>
<td>冻结库存退货（103）</td>
<td>MIGO</td>
</tr>
<tr>
<td>125</td>
<td>收货退货冻结库存冲销</td>
<td>冲销冻结库存退货（124）</td>
<td>MIGO</td>
</tr>
<tr>
<td>131</td>
<td>收货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>132</td>
<td>收货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>141</td>
<td>收货后续调整</td>
<td></td>
<td></td>
</tr>
<tr>
<td>142</td>
<td>收货后续调整</td>
<td></td>
<td></td>
</tr>
<tr>
<td>161</td>
<td>收货退货</td>
<td>创建退货采购订单向供应商退货</td>
<td></td>
</tr>
<tr>
<td>162</td>
<td>收货退货冲销</td>
<td>冲销创建退货采购订单向供应商退货</td>
<td></td>
</tr>
<tr>
<td>201</td>
<td>有关成本中心的发货</td>
<td>向成本中心发料</td>
<td>MB1A</td>
</tr>
<tr>
<td>202</td>
<td>有关成本中心的收货</td>
<td>成本中心退料或冲销成本中心发料</td>
<td>MB1A</td>
</tr>
<tr>
<td>221</td>
<td>有关项目的发货</td>
<td>向项目发货</td>
<td></td>
</tr>
<tr>
<td>222</td>
<td>有关项目的收货</td>
<td>项目退货或冲销项目发货</td>
<td></td>
</tr>
<tr>
<td>231</td>
<td>有关销售订单的发货</td>
<td>销售订单的发货</td>
<td></td>
</tr>
<tr>
<td>232</td>
<td>有关销售订单的收货</td>
<td>销售订单的退货或重销销售订单的发货</td>
<td></td>
</tr>
<tr>
<td>241</td>
<td>有关资产的发货</td>
<td>向资产的发货</td>
<td></td>
</tr>
<tr>
<td>242</td>
<td>有关资产的收货</td>
<td>向资产的发货</td>
<td></td>
</tr>
<tr>
<td>251</td>
<td>有关销售的发货</td>
<td>有关销售的发货</td>
<td>MB1A</td>
</tr>
<tr>
<td>252</td>
<td>有关销售的收货</td>
<td>有关销售的收货</td>
<td>MB1A</td>
</tr>
<tr>
<td>261</td>
<td>有关订单的发货</td>
<td>工单领料</td>
<td>MIGO&#x2F;MB1A</td>
</tr>
<tr>
<td>262</td>
<td>有关订单的收货</td>
<td>工单退料（或冲销工单领料）</td>
<td>MB1A</td>
</tr>
<tr>
<td>281</td>
<td>有关网络的发货</td>
<td>有关网络的发货</td>
<td></td>
</tr>
<tr>
<td>282</td>
<td>有关网络的收货</td>
<td>有关网络的收货</td>
<td></td>
</tr>
<tr>
<td>291</td>
<td>发货的全部帐户分配</td>
<td>向所有对象发货（可选择发货到对象的类型）</td>
<td></td>
</tr>
<tr>
<td>292</td>
<td>收货的全部帐户分配</td>
<td>向所有对象收货（可选择发货到对象的类型）</td>
<td></td>
</tr>
<tr>
<td>301</td>
<td>TF工厂间的转移</td>
<td>工厂间的转移（one step）</td>
<td></td>
</tr>
<tr>
<td>302</td>
<td>TR工厂间的转储</td>
<td></td>
<td></td>
</tr>
<tr>
<td>303</td>
<td>TF出库到工厂</td>
<td></td>
<td></td>
</tr>
<tr>
<td>304</td>
<td>TR出库到工厂</td>
<td></td>
<td></td>
</tr>
<tr>
<td>305</td>
<td>TF厂内库存转储计划</td>
<td></td>
<td></td>
</tr>
<tr>
<td>306</td>
<td>TR厂内库存交易计划</td>
<td></td>
<td></td>
</tr>
<tr>
<td>309</td>
<td>TF转储采购物料到物料</td>
<td>TF转储采购物料到物料</td>
<td>MB1B</td>
</tr>
<tr>
<td>310</td>
<td>TR转储采购物料到物料</td>
<td>TR转储采购物料到物料</td>
<td>MB1B</td>
</tr>
<tr>
<td>311</td>
<td>TF厂内移储</td>
<td>TF厂内移储</td>
<td>MB1B</td>
</tr>
<tr>
<td>312</td>
<td>TR 厂内转储</td>
<td>TR 厂内转储</td>
<td>MB1B</td>
</tr>
<tr>
<td>313</td>
<td>TF出库到库存地</td>
<td>从出库库存到库存地</td>
<td></td>
</tr>
<tr>
<td>314</td>
<td>TR出库到库存地</td>
<td>冲销出库库存到库存地</td>
<td></td>
</tr>
<tr>
<td>315</td>
<td>TF库存地库存转储计划</td>
<td></td>
<td></td>
</tr>
<tr>
<td>316</td>
<td>TR库存地库存转储计划</td>
<td></td>
<td></td>
</tr>
<tr>
<td>317</td>
<td>创建结构化物料</td>
<td></td>
<td></td>
</tr>
<tr>
<td>318</td>
<td>RE创建结构化物料</td>
<td></td>
<td></td>
</tr>
<tr>
<td>319</td>
<td>拆分结构化物料</td>
<td></td>
<td></td>
</tr>
<tr>
<td>320</td>
<td>RE拆分结构化物料</td>
<td></td>
<td></td>
</tr>
<tr>
<td>321</td>
<td>TF质量到非限制</td>
<td>质检库存到非限制库存</td>
<td></td>
</tr>
<tr>
<td>322</td>
<td>TR 质量到非限制</td>
<td>冲销质检库存到非限制库存</td>
<td></td>
</tr>
<tr>
<td>323</td>
<td>TF厂内质量</td>
<td></td>
<td></td>
</tr>
<tr>
<td>324</td>
<td>TR厂内质量</td>
<td></td>
<td></td>
</tr>
<tr>
<td>325</td>
<td>TF厂内冻结</td>
<td></td>
<td></td>
</tr>
<tr>
<td>326</td>
<td>TR厂内冻结</td>
<td></td>
<td></td>
</tr>
<tr>
<td>331</td>
<td>GI 到采样QI</td>
<td></td>
<td></td>
</tr>
<tr>
<td>332</td>
<td>RE 到采样QI</td>
<td></td>
<td></td>
</tr>
<tr>
<td>333</td>
<td>GI 到采样非限制</td>
<td></td>
<td></td>
</tr>
<tr>
<td>334</td>
<td>RE 到采样非限制</td>
<td></td>
<td></td>
</tr>
<tr>
<td>335</td>
<td>GI 到采样冻结</td>
<td></td>
<td></td>
</tr>
<tr>
<td>336</td>
<td>RE 到采样冻结</td>
<td></td>
<td></td>
</tr>
<tr>
<td>340</td>
<td>批次重估</td>
<td></td>
<td></td>
</tr>
<tr>
<td>341</td>
<td>TF 非限制到限制</td>
<td>从非限制库存移动到限制库存</td>
<td>MB1B</td>
</tr>
<tr>
<td>342</td>
<td>TF 限制到非限制</td>
<td>从限制库存移动到非限制库存</td>
<td>MB1B</td>
</tr>
<tr>
<td>343</td>
<td>TF冻结到非限制</td>
<td>冻结库存到非限制库存</td>
<td></td>
</tr>
<tr>
<td>344</td>
<td>TR 冻结到非限制</td>
<td>冲销冻结库存到非限制库存</td>
<td></td>
</tr>
<tr>
<td>349</td>
<td>TF 冻结到QI</td>
<td>冻结库存到质检库存</td>
<td></td>
</tr>
<tr>
<td>350</td>
<td>TR冻结到QI</td>
<td>冲销冻结库存到质检库存</td>
<td></td>
</tr>
<tr>
<td>351</td>
<td>TF在途库存</td>
<td></td>
<td></td>
</tr>
<tr>
<td>352</td>
<td>TR 在途库存</td>
<td></td>
<td></td>
</tr>
<tr>
<td>411</td>
<td>TF库存地到库存地</td>
<td>寄售转自有（K）、MTO到MTS</td>
<td>MB1B</td>
</tr>
<tr>
<td>412</td>
<td>TR库存地到库存地</td>
<td>寄售转自有（K）、MTS到MTO</td>
<td>MB1B</td>
</tr>
<tr>
<td>413</td>
<td>TF库存地到销售订单</td>
<td>销售订单库存之间转储</td>
<td></td>
</tr>
<tr>
<td>414</td>
<td>TR库存地到销售订单</td>
<td>销售订单库存之间转储</td>
<td></td>
</tr>
<tr>
<td>415</td>
<td>TF 库存地到项目</td>
<td></td>
<td></td>
</tr>
<tr>
<td>416</td>
<td>TR 库存地到项目</td>
<td></td>
<td></td>
</tr>
<tr>
<td>441</td>
<td>TP 非限制到 tiedEmp</td>
<td></td>
<td></td>
</tr>
<tr>
<td>442</td>
<td>TP tiedEmp.到非限制</td>
<td></td>
<td></td>
</tr>
<tr>
<td>451</td>
<td>GI退货</td>
<td>Returns  from customer without Shipping</td>
<td>MB1C</td>
</tr>
<tr>
<td>452</td>
<td>RE 退货(冲销)</td>
<td>冲销451</td>
<td></td>
</tr>
<tr>
<td>453</td>
<td>总储备退回发出处</td>
<td>总储备退回发出处</td>
<td>MB1B</td>
</tr>
<tr>
<td>454</td>
<td>总储备到退货</td>
<td>总储备到退货</td>
<td>MB1B</td>
</tr>
<tr>
<td>455</td>
<td>TF库存转储退货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>456</td>
<td>TR库存转储退货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>457</td>
<td>TP 退货到总储备 QI</td>
<td>客户退货的转回（质检库存）</td>
<td></td>
</tr>
<tr>
<td>458</td>
<td>TP 总储备QI到退货</td>
<td>客户退货的转回（质检库存）冲销</td>
<td></td>
</tr>
<tr>
<td>459</td>
<td>TP退货到总储备冻结</td>
<td>客户退货的转回（冻结库存）</td>
<td></td>
</tr>
<tr>
<td>460</td>
<td>TP 总储备冻结到退货</td>
<td>客户退货的转回（冻结库存）冲销</td>
<td></td>
</tr>
<tr>
<td>501</td>
<td>无PO的收货</td>
<td>无采购订单的收货</td>
<td></td>
</tr>
<tr>
<td>502</td>
<td>RE无PO的收货</td>
<td>无采购订单的退货</td>
<td></td>
</tr>
<tr>
<td>503</td>
<td>收货到QI</td>
<td></td>
<td></td>
</tr>
<tr>
<td>504</td>
<td>RE收货到数量</td>
<td></td>
<td></td>
</tr>
<tr>
<td>505</td>
<td>收据到收货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>506</td>
<td>RE收货到冻结</td>
<td></td>
<td></td>
</tr>
<tr>
<td>511</td>
<td>免费交货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>512</td>
<td>无费用的RE交货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>521</td>
<td>无订单的收货</td>
<td>无订单的收货</td>
<td></td>
</tr>
<tr>
<td>522</td>
<td>RE无生产订单的收货</td>
<td>无订单的收货的冲减</td>
<td></td>
</tr>
<tr>
<td>523</td>
<td>无生产订单的QI收货</td>
<td>质检库存无订单的收货</td>
<td></td>
</tr>
<tr>
<td>524</td>
<td>RE无生产订单的质量</td>
<td>质检库存无订单的收货冲销</td>
<td></td>
</tr>
<tr>
<td>525</td>
<td>无生产订单的冻结收货</td>
<td>冻结库存无订单的收货</td>
<td></td>
</tr>
<tr>
<td>526</td>
<td>RE无生产订单冻结</td>
<td>冻结库存无订单的收货冲销</td>
<td></td>
</tr>
<tr>
<td>531</td>
<td>副产品收货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>532</td>
<td>RE副产品</td>
<td></td>
<td></td>
</tr>
<tr>
<td>541</td>
<td>对转包库存的GI仓库</td>
<td>对转包库存的GI仓库</td>
<td>MB1B</td>
</tr>
<tr>
<td>542</td>
<td>RE转包库存到仓库</td>
<td>RE转包库存到仓库</td>
<td>MB1B</td>
</tr>
<tr>
<td>543</td>
<td>GI发货销售订单存货</td>
<td>GI发货销售订单存货</td>
<td>MIGO</td>
</tr>
<tr>
<td>544</td>
<td>GI收货销售订单存货</td>
<td>GI收货销售订单存货</td>
<td>MIGO</td>
</tr>
<tr>
<td>545</td>
<td>副产品SC收货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>546</td>
<td>GI 发货 SC 副产品</td>
<td></td>
<td></td>
</tr>
<tr>
<td>551</td>
<td>GI报废</td>
<td>GI报废（仓库物料报废）</td>
<td>MB1B</td>
</tr>
<tr>
<td>552</td>
<td>RE报废</td>
<td>RE报废（仓库物料报废）</td>
<td>MB1B</td>
</tr>
<tr>
<td>553</td>
<td>GI报废QI</td>
<td>质检库存报废</td>
<td></td>
</tr>
<tr>
<td>554</td>
<td>RE报废QI</td>
<td>质检库存报废冲销</td>
<td></td>
</tr>
<tr>
<td>555</td>
<td>GI报废冻结</td>
<td>冻结库存报废</td>
<td></td>
</tr>
<tr>
<td>556</td>
<td>RE报废冻结</td>
<td>冻结库存报废冲销</td>
<td></td>
</tr>
<tr>
<td>557</td>
<td>GI调整转运</td>
<td></td>
<td></td>
</tr>
<tr>
<td>558</td>
<td>GI调整转运</td>
<td></td>
<td></td>
</tr>
<tr>
<td>561</td>
<td>库存余额的初始条目</td>
<td>库存余额的初始条目</td>
<td></td>
</tr>
<tr>
<td>562</td>
<td>RE初始条目库存余额</td>
<td>RE初始条目库存余额（初始库存冲销）</td>
<td></td>
</tr>
<tr>
<td>563</td>
<td>初始条目库存余额:QI</td>
<td>质检限制性初始库存</td>
<td></td>
</tr>
<tr>
<td>564</td>
<td>RE库存余额输入:QI</td>
<td>质检初始库存冲销</td>
<td></td>
</tr>
<tr>
<td>565</td>
<td>库存余额输入:冻结</td>
<td>冻结初始库存</td>
<td></td>
</tr>
<tr>
<td>566</td>
<td>RE库存余额输入:冻结</td>
<td>冻结初始库存冲销</td>
<td></td>
</tr>
<tr>
<td>571</td>
<td>收货装配</td>
<td></td>
<td></td>
</tr>
<tr>
<td>572</td>
<td>RE 收货装配</td>
<td></td>
<td></td>
</tr>
<tr>
<td>573</td>
<td>收货 QI 装配</td>
<td></td>
<td></td>
</tr>
<tr>
<td>574</td>
<td>RE 收货 QI 装配</td>
<td></td>
<td></td>
</tr>
<tr>
<td>575</td>
<td>收货冻结装配</td>
<td></td>
<td></td>
</tr>
<tr>
<td>576</td>
<td>RE 收货冻结装配</td>
<td></td>
<td></td>
</tr>
<tr>
<td>581</td>
<td>收货副产品网络</td>
<td></td>
<td></td>
</tr>
<tr>
<td>582</td>
<td>RE 副产品  网络</td>
<td></td>
<td></td>
</tr>
<tr>
<td>601</td>
<td>GD发货: 交货(内销)</td>
<td>GD发货: 交货(内销)</td>
<td></td>
</tr>
<tr>
<td>602</td>
<td>RE交货冲销(内销)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>603</td>
<td>TF出库到工厂</td>
<td></td>
<td></td>
</tr>
<tr>
<td>604</td>
<td>TR出库到工厂</td>
<td></td>
<td></td>
</tr>
<tr>
<td>605</td>
<td>TF厂内库存转储计划</td>
<td></td>
<td></td>
</tr>
<tr>
<td>606</td>
<td>TR厂内库存交易计划</td>
<td></td>
<td></td>
</tr>
<tr>
<td>621</td>
<td>GI返回式包装:借贷</td>
<td></td>
<td></td>
</tr>
<tr>
<td>622</td>
<td>GI返回式包装:退货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>623</td>
<td>GI发货:客户退货包装</td>
<td></td>
<td></td>
</tr>
<tr>
<td>624</td>
<td>GI收货:客户退货包装</td>
<td></td>
<td></td>
</tr>
<tr>
<td>631</td>
<td>GI寄售: 借贷</td>
<td>寄售订单发货到办事处</td>
<td></td>
</tr>
<tr>
<td>632</td>
<td>GI寄售: 退货</td>
<td>寄售订单发货到办事处</td>
<td></td>
</tr>
<tr>
<td>633</td>
<td>GI发货: 客户寄售</td>
<td>寄售结算发货订单由办事处发货到客户处</td>
<td></td>
</tr>
<tr>
<td>634</td>
<td>GI收货: 客户寄售</td>
<td>冲销633</td>
<td></td>
</tr>
<tr>
<td>635</td>
<td>TF托售出租</td>
<td></td>
<td></td>
</tr>
<tr>
<td>636</td>
<td>TR寄售退货交货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>641</td>
<td>TF在途库存</td>
<td></td>
<td></td>
</tr>
<tr>
<td>642</td>
<td>TR 在途库存</td>
<td></td>
<td></td>
</tr>
<tr>
<td>643</td>
<td>TF 至跨公司间</td>
<td></td>
<td></td>
</tr>
<tr>
<td>644</td>
<td>TR 至跨公司间</td>
<td></td>
<td></td>
</tr>
<tr>
<td>645</td>
<td>TF 跨公司</td>
<td></td>
<td></td>
</tr>
<tr>
<td>646</td>
<td>TR 跨公司</td>
<td></td>
<td></td>
</tr>
<tr>
<td>647</td>
<td>TF在途库存</td>
<td></td>
<td></td>
</tr>
<tr>
<td>648</td>
<td>TR 在途库存</td>
<td></td>
<td></td>
</tr>
<tr>
<td>651</td>
<td>GD退货 退回</td>
<td>客户退货退回（限制性使用库存的转回）</td>
<td></td>
</tr>
<tr>
<td>652</td>
<td>GD退货 退货冲销</td>
<td>冲销发货过账（标准及免费换货客户退货退回发货仓）</td>
<td></td>
</tr>
<tr>
<td>653</td>
<td>GD 退货  非限制</td>
<td>客户退货退回（非限制性使用库存的转回）</td>
<td></td>
</tr>
<tr>
<td>654</td>
<td>GD 退货 非限制 冲销</td>
<td>冲销客户退货退回（非限制性使用库存的转回）</td>
<td></td>
</tr>
<tr>
<td>655</td>
<td>GD 退货 QI</td>
<td>客户退货退回（质检状态使用库存的转回）</td>
<td></td>
</tr>
<tr>
<td>656</td>
<td>GD 退货 QI 冲销</td>
<td>冲销客户退货退回（质检状态使用库存的转回）</td>
<td></td>
</tr>
<tr>
<td>657</td>
<td>GD 退货冻结</td>
<td>客户退货退回（冻结使用库存的转回）</td>
<td></td>
</tr>
<tr>
<td>658</td>
<td>GD 退货冻结冲销</td>
<td>冲销客户退货退回（冻结使用库存的转回）</td>
<td></td>
</tr>
<tr>
<td>661</td>
<td>GI向供应商退货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>662</td>
<td>RE退货到供应商冲销</td>
<td></td>
<td></td>
</tr>
<tr>
<td>671</td>
<td>TR 在途库存</td>
<td></td>
<td></td>
</tr>
<tr>
<td>672</td>
<td>TF在途库存</td>
<td></td>
<td></td>
</tr>
<tr>
<td>673</td>
<td>TF 至跨公司间</td>
<td></td>
<td></td>
</tr>
<tr>
<td>674</td>
<td>TR 至跨公司间</td>
<td></td>
<td></td>
</tr>
<tr>
<td>675</td>
<td>TR 跨公司</td>
<td></td>
<td></td>
</tr>
<tr>
<td>676</td>
<td>TF 跨公司</td>
<td></td>
<td></td>
</tr>
<tr>
<td>677</td>
<td>TR 在途库存</td>
<td></td>
<td></td>
</tr>
<tr>
<td>678</td>
<td>TF在途库存</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6A1</td>
<td>TF  GI1</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6A2</td>
<td>TR  GI1</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6A3</td>
<td>TF CC  GI1</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6A4</td>
<td>TR CC  GI1</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6A5</td>
<td>TF CC  GI1</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6A6</td>
<td>TR CC  GI1</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6A7</td>
<td>TF  GI1</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6A8</td>
<td>TR  GI1</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6B1</td>
<td>TF  GI2</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6B2</td>
<td>TR  GI2</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6B3</td>
<td>TF CC  GI2</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6B4</td>
<td>TR CC  GI2</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6B5</td>
<td>TF CC  GI2</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6B6</td>
<td>TR CC  GI2</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6B7</td>
<td>TF  GI2</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6B8</td>
<td>TR  GI2</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6K5</td>
<td>TF GI2 托售</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6K6</td>
<td>TR GI2 托售</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6W5</td>
<td>TF GI1 托售</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6W6</td>
<td>TR GI1 托售</td>
<td></td>
<td></td>
</tr>
<tr>
<td>701</td>
<td>GR实际盘点: 仓库</td>
<td>盘盈</td>
<td></td>
</tr>
<tr>
<td>702</td>
<td>GI实际盘点: 仓库</td>
<td>盘亏</td>
<td></td>
</tr>
<tr>
<td>703</td>
<td>GR实际盘点: QI</td>
<td>质检物料盘盈</td>
<td></td>
</tr>
<tr>
<td>704</td>
<td>GI实际盘点: QI</td>
<td>质检物料盘亏</td>
<td></td>
</tr>
<tr>
<td>707</td>
<td>GR实际盘点: 已冻结</td>
<td>冻结物料盘盈</td>
<td></td>
</tr>
<tr>
<td>708</td>
<td>GI实际盘点: 冻结</td>
<td>冻结物料盘亏</td>
<td></td>
</tr>
<tr>
<td>711</td>
<td>GI存货差异: 仓库</td>
<td></td>
<td></td>
</tr>
<tr>
<td>712</td>
<td>GR存货差异: 仓库</td>
<td></td>
<td></td>
</tr>
<tr>
<td>713</td>
<td>GI存货差异:QI</td>
<td></td>
<td></td>
</tr>
<tr>
<td>714</td>
<td>GR存货差异: 质检</td>
<td></td>
<td></td>
</tr>
<tr>
<td>715</td>
<td>GI存货差异: 退货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>716</td>
<td>GR存货差异: 退货</td>
<td></td>
<td></td>
</tr>
<tr>
<td>717</td>
<td>GI存货差异: 冻结</td>
<td></td>
<td></td>
</tr>
<tr>
<td>718</td>
<td>GR存货差异: 冻结</td>
<td></td>
<td></td>
</tr>
<tr>
<td>721</td>
<td>SlsVal.rec.n.afftMgs</td>
<td></td>
<td></td>
</tr>
<tr>
<td>722</td>
<td>SlsVal.iss.n.afftMgs</td>
<td></td>
<td></td>
</tr>
<tr>
<td>731</td>
<td>SlsVal.rec.  afftgMgs</td>
<td></td>
<td></td>
</tr>
<tr>
<td>732</td>
<td>SlsVal.iss.  afftgMgs</td>
<td></td>
<td></td>
</tr>
<tr>
<td>841</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>842</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>843</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>844</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>901</td>
<td>GD发货: 交货(外销)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>902</td>
<td>RE交货冲销(外销)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Z03</td>
<td>有关内部订单的发货</td>
<td>有关内部订单的发货</td>
<td>MB1A</td>
</tr>
<tr>
<td>Z04</td>
<td>有关内部订订单的收货</td>
<td>有关内部订订单的收货</td>
<td>MB1A</td>
</tr>
<tr>
<td>Z09</td>
<td>TF转储采购物料到物料</td>
<td>TF转储采购物料到物料</td>
<td>MB1B</td>
</tr>
<tr>
<td>Z10</td>
<td>TR转储采购物料到物料</td>
<td>TR转储采购物料到物料</td>
<td>MB1B</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/20/SE21%E5%88%9B%E5%BB%BA-%E5%A4%8D%E5%88%B6%E5%8C%85%E5%9D%87%E6%8A%A5%E9%94%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="一骗树">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="打螺丝闲暇的记录">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/20/SE21%E5%88%9B%E5%BB%BA-%E5%A4%8D%E5%88%B6%E5%8C%85%E5%9D%87%E6%8A%A5%E9%94%99/" class="post-title-link" itemprop="url">SE21创建_复制包均报错</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-05-20 11:19:36 / 修改时间：11:40:28" itemprop="dateCreated datePublished" datetime="2022-05-20T11:19:36+08:00">2022-05-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="1-1-1-报错"><a href="#1-1-1-报错" class="headerlink" title="1.1.1 *报错*"></a><strong>1.1.1</strong> <em><strong>*报错*</strong></em></h3><p>SE21</p>
<p>创建 ZGST_CO_PCA</p>
<p>继续</p>
<p>Software component HOME is not modifiable</p>
<p>&amp;软件组件HOME不可修改</p>
<p>&amp;复制Z001，也会出现同样的报错。</p>
<h3 id="1-1-2-I-incident"><a href="#1-1-2-I-incident" class="headerlink" title="1.1.2 *I**incident*"></a><strong>1.1.2</strong> <em><strong>*I*</strong></em><em><strong>*incident*</strong></em></h3><h4 id="1-1-2-1-Error-when-creating-development-package"><a href="#1-1-2-1-Error-when-creating-development-package" class="headerlink" title="1.1.2.1 *Error when creating development package*"></a><strong>1.1.2.1</strong> <em><strong>*Error when creating development package*</strong></em></h4><p>When I tried to create a new development package with transaction code ‘SE21’, the following error occured: Software component HOME is not modifiable (Message no. TR463). The parameters were the same as those I set on another server last year. (And I tried it again on that sever, it still works now). Then I tried to copy a development package that existed in the sever, the same error occured. The following is the parameters:</p>
<p>Application Component: Empty</p>
<p>Software Component: HOME</p>
<p>Transport Layer: ZDS4</p>
<p>Superpackage: Empty</p>
<p>Package Type: Development Package</p>
<p>Package encapsulated: Not checked</p>
<h4 id="1-1-2-2-Note"><a href="#1-1-2-2-Note" class="headerlink" title="1.1.2.2 *Note*"></a><strong>1.1.2.2</strong> <em><strong>*Note*</strong></em></h4><p><em><strong>*2404403 - You get an error “System setting does not allow you to change &amp; &amp; &amp;.” when you try to edit an object*</strong></em></p>
<p><em><strong>*Symptom*</strong></em></p>
<p>When you try to edit some object in your system or you do some other actions which are to change some objects, you get the following error:</p>
<p>System setting does not allow you to change &amp; &amp; &amp;.(<Program ID> <Object Type>  <Object Name>).</p>
<p>Message no. TR006</p>
<p><em><strong>*Diagnosis*</strong></em></p>
<p>The object <Program ID> <Object Type>  <Object Name> is assigned to the software component <Component Name> through its package.</p>
<p>This software component is not modifiable in this SAP System.</p>
<p><em><strong>*System Response*</strong></em></p>
<p>The function terminates.</p>
<p>Procedure for System Administration</p>
<p>Check whether you can modify software component <Component Name></p>
<p>You can set the modifiability of software components in the Transport Organizer Tools under Administration -&gt;Set System Change Option. </p>
<p><em><strong>*Environment*</strong></em></p>
<p>ABAP System, Release independent</p>
<p><em><strong>*Resolution*</strong></em></p>
<p>Firstly, please specify the package name of the object through the object attributes or table TADIR.</p>
<p>Then you can go to SE80 to get the the software component of the assigned package.</p>
<p>Now you must make the following settings to be able to do the needful change in the system.</p>
<p>SE06-&gt;System change options </p>
<p>The following settings must be made.</p>
<p>Global settings: “modifiable”</p>
<p>You must also set the software component of the assigned package to “modifiable” or “Restrict Modifiable” , for example:</p>
<p>Ü The software component LOCAL (“Local Developments (No Automatic Transport)”) must be “Modifiable” for the package $TMP.</p>
<p>Ü The software component HOME (“Developments Without Delivery to Customers”) must be “Modifiable” for a package with the software component HOME.</p>
<p>Ü All other software components must be set to “Modifiable” or “Restrict Modifibility” correspondingly.</p>
<p><em><strong>*Namespace&#x2F;name range*</strong></em></p>
<p>Ü The namespace “General SAP Name range” and “Customer name range” must be set to “modifiable”.</p>
<p>Ü All other namespaces&#x2F;name ranges can be set to “Not Modifiable”.</p>
<p>For example, when you edit the object “ZLOGON_SCREEN_INFO” in SE61, you may got error TR006 or TR045.To resolve the error, you need to change the settings below:</p>
<p>Ü SE06-&gt;System Change Options-&gt;Global Settings:Modifiable</p>
<p>Ü Software Component-&gt;Local or Home-&gt;Modifiable</p>
<p>Ü Namespace&#x2F;Name Range-&gt;Customer Name Range: Modifiable </p>
<p>Keywords</p>
<p>TR045, TR 045, TR 006, system settings</p>
<h3 id="1-1-3-解决过程"><a href="#1-1-3-解决过程" class="headerlink" title="1.1.3 *解决过程*"></a><strong>1.1.3</strong> <em><strong>*解决过程*</strong></em></h3><p>SE06</p>
<p>系统更改选项</p>
<p>点击</p>
<p>客户开发-&gt;HOME-&gt;修改为可修改</p>
<p>这里的状态不对，如下修改：</p>
<p>保存</p>
<p>SE21创建包即可</p>
<h3 id="1-1-4-问题小结"><a href="#1-1-4-问题小结" class="headerlink" title="1.1.4 *问题小结*"></a><strong>1.1.4</strong> <em><strong>*问题小结*</strong></em></h3><p>上图是一个正常的D110系统的SE06的设置，可见是SAP的BASIS漏了非常重要的工作。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">一骗树</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">51</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">一骗树</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
